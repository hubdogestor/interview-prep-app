(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["chunks/[root-of-the-server]__2c6ebc96._.js",51615,(e,t,n)=>{t.exports=e.x("node:buffer",()=>require("node:buffer"))},36766,(e,t,n)=>{"use strict";n._=function(e){return e&&e.__esModule?e:{default:e}}},18574,(e,t,n)=>{"use strict";t.exports=["chrome 111","edge 111","firefox 111","safari 16.4"]},57703,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={UNDERSCORE_GLOBAL_ERROR_ROUTE:function(){return o},UNDERSCORE_GLOBAL_ERROR_ROUTE_ENTRY:function(){return u},UNDERSCORE_NOT_FOUND_ROUTE:function(){return s},UNDERSCORE_NOT_FOUND_ROUTE_ENTRY:function(){return a}};for(var i in r)Object.defineProperty(n,i,{enumerable:!0,get:r[i]});let s="/_not-found",a=`${s}/page`,o="/_global-error",u=`${o}/page`},95552,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,i={APP_CLIENT_INTERNALS:function(){return ee},APP_PATHS_MANIFEST:function(){return E},APP_PATH_ROUTES_MANIFEST:function(){return T},AdapterOutputType:function(){return l},BARREL_OPTIMIZATION_PREFIX:function(){return H},BLOCKED_PAGES:function(){return $},BUILD_ID_FILE:function(){return F},BUILD_MANIFEST:function(){return v},CLIENT_PUBLIC_FILES_PATH:function(){return G},CLIENT_REFERENCE_MANIFEST:function(){return z},CLIENT_STATIC_FILES_PATH:function(){return j},CLIENT_STATIC_FILES_RUNTIME_MAIN:function(){return Z},CLIENT_STATIC_FILES_RUNTIME_MAIN_APP:function(){return Q},CLIENT_STATIC_FILES_RUNTIME_POLYFILLS:function(){return er},CLIENT_STATIC_FILES_RUNTIME_POLYFILLS_SYMBOL:function(){return ei},CLIENT_STATIC_FILES_RUNTIME_REACT_REFRESH:function(){return et},CLIENT_STATIC_FILES_RUNTIME_WEBPACK:function(){return en},COMPILER_INDEXES:function(){return c},COMPILER_NAMES:function(){return u},CONFIG_FILES:function(){return k},DEFAULT_RUNTIME_WEBPACK:function(){return es},DEFAULT_SANS_SERIF_FONT:function(){return el},DEFAULT_SERIF_FONT:function(){return ec},DEV_CLIENT_MIDDLEWARE_MANIFEST:function(){return M},DEV_CLIENT_PAGES_MANIFEST:function(){return D},DYNAMIC_CSS_MANIFEST:function(){return X},EDGE_RUNTIME_WEBPACK:function(){return ea},EDGE_UNSUPPORTED_NODE_APIS:function(){return eh},EXPORT_DETAIL:function(){return b},EXPORT_MARKER:function(){return A},FUNCTIONS_CONFIG_MANIFEST:function(){return y},IMAGES_MANIFEST:function(){return N},INTERCEPTION_ROUTE_REWRITE_MANIFEST:function(){return q},MIDDLEWARE_BUILD_MANIFEST:function(){return J},MIDDLEWARE_MANIFEST:function(){return P},MIDDLEWARE_REACT_LOADABLE_MANIFEST:function(){return K},MODERN_BROWSERSLIST_TARGET:function(){return a.default},NEXT_BUILTIN_DOCUMENT:function(){return V},NEXT_FONT_MANIFEST:function(){return R},PAGES_MANIFEST:function(){return m},PHASE_DEVELOPMENT_SERVER:function(){return f},PHASE_EXPORT:function(){return p},PHASE_INFO:function(){return g},PHASE_PRODUCTION_BUILD:function(){return d},PHASE_PRODUCTION_SERVER:function(){return _},PHASE_TEST:function(){return h},PRERENDER_MANIFEST:function(){return O},REACT_LOADABLE_MANIFEST:function(){return x},ROUTES_MANIFEST:function(){return C},RSC_MODULE_TYPES:function(){return ef},SERVER_DIRECTORY:function(){return B},SERVER_FILES_MANIFEST:function(){return L},SERVER_PROPS_ID:function(){return eu},SERVER_REFERENCE_MANIFEST:function(){return W},STATIC_PROPS_ID:function(){return eo},STATIC_STATUS_PAGES:function(){return ep},STRING_LITERAL_DROP_BUNDLE:function(){return Y},SUBRESOURCE_INTEGRITY_MANIFEST:function(){return I},SYSTEM_ENTRYPOINTS:function(){return eg},TRACE_OUTPUT_VERSION:function(){return ed},TURBOPACK_CLIENT_BUILD_MANIFEST:function(){return U},TURBOPACK_CLIENT_MIDDLEWARE_MANIFEST:function(){return w},TURBO_TRACE_DEFAULT_MEMORY_LIMIT:function(){return e_},UNDERSCORE_GLOBAL_ERROR_ROUTE:function(){return o.UNDERSCORE_GLOBAL_ERROR_ROUTE},UNDERSCORE_GLOBAL_ERROR_ROUTE_ENTRY:function(){return o.UNDERSCORE_GLOBAL_ERROR_ROUTE_ENTRY},UNDERSCORE_NOT_FOUND_ROUTE:function(){return o.UNDERSCORE_NOT_FOUND_ROUTE},UNDERSCORE_NOT_FOUND_ROUTE_ENTRY:function(){return o.UNDERSCORE_NOT_FOUND_ROUTE_ENTRY},WEBPACK_STATS:function(){return S}};for(var s in i)Object.defineProperty(n,s,{enumerable:!0,get:i[s]});let a=e.r(36766)._(e.r(18574)),o=e.r(57703),u={client:"client",server:"server",edgeServer:"edge-server"},c={[u.client]:0,[u.server]:1,[u.edgeServer]:2};var l=((r={}).PAGES="PAGES",r.PAGES_API="PAGES_API",r.APP_PAGE="APP_PAGE",r.APP_ROUTE="APP_ROUTE",r.PRERENDER="PRERENDER",r.STATIC_FILE="STATIC_FILE",r.MIDDLEWARE="MIDDLEWARE",r);let p="phase-export",d="phase-production-build",_="phase-production-server",f="phase-development-server",h="phase-test",g="phase-info",m="pages-manifest.json",S="webpack-stats.json",E="app-paths-manifest.json",T="app-path-routes-manifest.json",v="build-manifest.json",y="functions-config-manifest.json",I="subresource-integrity-manifest",R="next-font-manifest",A="export-marker.json",b="export-detail.json",O="prerender-manifest.json",C="routes-manifest.json",N="images-manifest.json",L="required-server-files.json",D="_devPagesManifest.json",P="middleware-manifest.json",w="_clientMiddlewareManifest.json",U="client-build-manifest.json",M="_devMiddlewareManifest.json",x="react-loadable-manifest.json",B="server",k=["next.config.js","next.config.mjs","next.config.ts",...process?.features?.typescript?["next.config.mts"]:[]],F="BUILD_ID",$=["/_document","/_app","/_error"],G="public",j="static",Y="__NEXT_DROP_CLIENT_FILE__",V="__NEXT_BUILTIN_DOCUMENT__",H="__barrel_optimize__",z="client-reference-manifest",W="server-reference-manifest",J="middleware-build-manifest",K="middleware-react-loadable-manifest",q="interception-route-rewrite-manifest",X="dynamic-css-manifest",Z="main",Q=`${Z}-app`,ee="app-pages-internals",et="react-refresh",en="webpack",er="polyfills",ei=Symbol(er),es="webpack-runtime",ea="edge-runtime-webpack",eo="__N_SSG",eu="__N_SSP",ec={name:"Times New Roman",xAvgCharWidth:821,azAvgWidth:854.3953488372093,unitsPerEm:2048},el={name:"Arial",xAvgCharWidth:904,azAvgWidth:934.5116279069767,unitsPerEm:2048},ep=["/500"],ed=1,e_=6e3,ef={client:"client",server:"server"},eh=["clearImmediate","setImmediate","BroadcastChannel","ByteLengthQueuingStrategy","CompressionStream","CountQueuingStrategy","DecompressionStream","DomException","MessageChannel","MessageEvent","MessagePort","ReadableByteStreamController","ReadableStreamBYOBRequest","ReadableStreamDefaultController","TransformStreamDefaultController","WritableStreamDefaultController"],eg=new Set([Z,et,Q]);("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},93597,(e,t,n)=>{t.exports=e.r(95552)},25973,e=>{"use strict";let t,n,r,i;function s(e){return Symbol.for(e)}var a,o,u,c,l,p,d,_,f,h,g,m,S,E,T,v,y,I,R,A=new function e(t){var n=this;n._currentContext=t?new Map(t):new Map,n.getValue=function(e){return n._currentContext.get(e)},n.setValue=function(t,r){var i=new e(n._currentContext);return i._currentContext.set(t,r),i},n.deleteValue=function(t){var r=new e(n._currentContext);return r._currentContext.delete(t),r}},b=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return a},O=function(e,t,n){if(n||2==arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},C=function(){function e(){}return e.prototype.active=function(){return A},e.prototype.with=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];return t.call.apply(t,O([n],b(r),!1))},e.prototype.bind=function(e,t){return t},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),N="object"==typeof globalThis?globalThis:"object"==typeof self?self:e.g,L="1.9.0",D=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/,P=function(e){var t=new Set([e]),n=new Set,r=e.match(D);if(!r)return function(){return!1};var i={major:+r[1],minor:+r[2],patch:+r[3],prerelease:r[4]};if(null!=i.prerelease)return function(t){return t===e};function s(e){return n.add(e),!1}return function(e){if(t.has(e))return!0;if(n.has(e))return!1;var r=e.match(D);if(!r)return s(e);var a={major:+r[1],minor:+r[2],patch:+r[3],prerelease:r[4]};if(null!=a.prerelease||i.major!==a.major)return s(e);if(0===i.major)return i.minor===a.minor&&i.patch<=a.patch?(t.add(e),!0):s(e);return i.minor<=a.minor?(t.add(e),!0):s(e)}}(L),w=Symbol.for("opentelemetry.js.api."+L.split(".")[0]);function U(e,t,n,r){void 0===r&&(r=!1);var i,s=N[w]=null!=(i=N[w])?i:{version:L};if(!r&&s[e]){var a=Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return n.error(a.stack||a.message),!1}if(s.version!==L){var a=Error("@opentelemetry/api: Registration of version v"+s.version+" for "+e+" does not match previously registered API v"+L);return n.error(a.stack||a.message),!1}return s[e]=t,n.debug("@opentelemetry/api: Registered a global for "+e+" v"+L+"."),!0}function M(e){var t,n,r=null==(t=N[w])?void 0:t.version;if(r&&P(r))return null==(n=N[w])?void 0:n[e]}function x(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+L+".");var n=N[w];n&&delete n[e]}var B=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return a},k=function(e,t,n){if(n||2==arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},F=function(){function e(e){this._namespace=e.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return $("debug",this._namespace,e)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return $("error",this._namespace,e)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return $("info",this._namespace,e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return $("warn",this._namespace,e)},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return $("verbose",this._namespace,e)},e}();function $(e,t,n){var r=M("diag");if(r)return n.unshift(t),r[e].apply(r,k([],B(n),!1))}(h=a||(a={}))[h.NONE=0]="NONE",h[h.ERROR=30]="ERROR",h[h.WARN=50]="WARN",h[h.INFO=60]="INFO",h[h.DEBUG=70]="DEBUG",h[h.VERBOSE=80]="VERBOSE",h[h.ALL=9999]="ALL";var G=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return a},j=function(e,t,n){if(n||2==arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},Y=function(){function e(){function e(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=M("diag");if(r)return r[e].apply(r,j([],G(t),!1))}}var t=this;t.setLogger=function(e,n){if(void 0===n&&(n={logLevel:a.INFO}),e===t){var r,i,s,o=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!=(r=o.stack)?r:o.message),!1}"number"==typeof n&&(n={logLevel:n});var u=M("diag"),c=function(e,t){function n(n,r){var i=t[n];return"function"==typeof i&&e>=r?i.bind(t):function(){}}return e<a.NONE?e=a.NONE:e>a.ALL&&(e=a.ALL),t=t||{},{error:n("error",a.ERROR),warn:n("warn",a.WARN),info:n("info",a.INFO),debug:n("debug",a.DEBUG),verbose:n("verbose",a.VERBOSE)}}(null!=(i=n.logLevel)?i:a.INFO,e);if(u&&!n.suppressOverrideMessage){var l=null!=(s=Error().stack)?s:"<failed to generate stacktrace>";u.warn("Current logger will be overwritten from "+l),c.warn("Current logger will overwrite one already registered from "+l)}return U("diag",c,t,!0)},t.disable=function(){x("diag",t)},t.createComponentLogger=function(e){return new F(e)},t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}(),V=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return a},H=function(e,t,n){if(n||2==arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},z="context",W=new C,J=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(e){return U(z,e,Y.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(e,t,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];return(r=this._getContextManager()).with.apply(r,H([e,t,n],V(i),!1))},e.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},e.prototype._getContextManager=function(){return M(z)||W},e.prototype.disable=function(){this._getContextManager().disable(),x(z,Y.instance())},e}(),K=J.getInstance(),q=e.i(57493),X=e.i(99219),Z=e.i(20174),Q=e.i(24058);let ee={},et={};function en(e,t){ee[e]=ee[e]||[],ee[e].push(t)}function er(e,t){if(!et[e]){et[e]=!0;try{t()}catch(t){q.DEBUG_BUILD&&Z.debug.error(`Error while instrumenting ${e}`,t)}}}function ei(e,t){let n=e&&ee[e];if(n)for(let r of n)try{r(t)}catch(t){q.DEBUG_BUILD&&Z.debug.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${(0,Q.getFunctionName)(r)}
Error:`,t)}}let es=null;function ea(){es=X.GLOBAL_OBJ.onerror,X.GLOBAL_OBJ.onerror=function(e,t,n,r,i){return ei("error",{column:r,error:i,line:n,msg:e,url:t}),!!es&&es.apply(this,arguments)},X.GLOBAL_OBJ.onerror.__SENTRY_INSTRUMENTED__=!0}let eo=null;function eu(){eo=X.GLOBAL_OBJ.onunhandledrejection,X.GLOBAL_OBJ.onunhandledrejection=function(e){return ei("unhandledrejection",e),!eo||eo.apply(this,arguments)},X.GLOBAL_OBJ.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}var ec=e.i(53393),el=e.i(54534);let ep=!1;function ed(){if(!ep){let t,n;e.tag="sentry_tracingErrorCallback",ep=!0,en(t="error",e),er(t,ea),en(n="unhandledrejection",e),er(n,eu)}function e(){let e=(0,ec.getActiveSpan)(),t=e&&(0,ec.getRootSpan)(e);if(t){let e="internal_error";q.DEBUG_BUILD&&Z.debug.log(`[Tracing] Root span: ${e} -> Global error occurred`),t.setStatus({code:el.SPAN_STATUS_ERROR,message:e})}}}var e_=e.i(35872);function ef(e,t,n=[t],r="npm"){let i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map(e=>({name:`${r}:@sentry/${e}`,version:e_.SDK_VERSION})),version:e_.SDK_VERSION}),e._metadata=i}var eh=e.i(12115),eg=e.i(4229),em=e.i(5893);function eS(e){return"isRelative"in e}function eE(e,t){let n=0>=e.indexOf("://")&&0!==e.indexOf("//"),r=t??(n?"thismessage:/":void 0);try{if("canParse"in URL&&!URL.canParse(e,r))return;let t=new URL(e,r);if(n)return{isRelative:n,pathname:t.pathname,search:t.search,hash:t.hash};return t}catch{}}function eT(e){if(!e)return{};let t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};let n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function ev(e){return e.split(/[?#]/,1)[0]}function ey(e){let{protocol:t,host:n,path:r}=e,i=n?.replace(/^.*@/,"[filtered]:[filtered]@").replace(/(:80)$/,"").replace(/(:443)$/,"")||"";return`${t?`${t}://`:""}${i}${r}`}var eI=e.i(85935);let eR="telemetry.sdk.language",eA="telemetry.sdk.name",eb="telemetry.sdk.version";var eO=e.i(87709);function eC(e){return"/"===e[e.length-1]?e.slice(0,-1):e}var eN=e.i(65434),eL=e.i(42495);class eD{constructor(e){this._maxSize=e,this._cache=new Map}get size(){return this._cache.size}get(e){let t=this._cache.get(e);if(void 0!==t)return this._cache.delete(e),this._cache.set(e,t),t}set(e,t){if(this._cache.size>=this._maxSize){let e=this._cache.keys().next().value;this._cache.delete(e)}this._cache.set(e,t)}remove(e){let t=this._cache.get(e);return t&&this._cache.delete(e),t}clear(){this._cache.clear()}keys(){return Array.from(this._cache.keys())}values(){let e=[];return this._cache.forEach(t=>e.push(t)),e}}var eP=e.i(12862),ew=e.i(57645),eU=e.i(63382),eM=e.i(66474);function ex(e,t,n=()=>{},r=()=>{}){var i,s,a,o;let u;try{u=e()}catch(e){throw t(e),n(),e}return i=u,s=t,a=n,o=r,(0,eM.isThenable)(i)?i.then(e=>(a(),o(e),e),e=>{throw s(e),a(),e}):(a(),o(i),i)}var eB=e.i(94482),ek=e.i(50850);function eF(e){if(!e||0===e.length)return;let t={};return e.forEach(e=>{let n=e.attributes||{},r=n[eh.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT],i=n[eh.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE];"string"==typeof r&&"number"==typeof i&&(t[e.name]={value:i,unit:r})}),t}var e$=e.i(98261);function eG(e){if(!q.DEBUG_BUILD)return;let{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=(0,ec.spanToJSON)(e),{spanId:i}=e.spanContext(),s=(0,ec.spanIsSampled)(e),a=(0,ec.getRootSpan)(e),o=a===e,u=`[Tracing] Starting ${s?"sampled":"unsampled"} ${o?"root ":""}span`,c=[`op: ${n}`,`name: ${t}`,`ID: ${i}`];if(r&&c.push(`parent ID: ${r}`),!o){let{op:e,description:t}=(0,ec.spanToJSON)(a);c.push(`root ID: ${a.spanContext().spanId}`),e&&c.push(`root op: ${e}`),t&&c.push(`root description: ${t}`)}Z.debug.log(`${u}
  ${c.join("\n  ")}`)}function ej(e){if(!q.DEBUG_BUILD)return;let{description:t="< unknown name >",op:n="< unknown op >"}=(0,ec.spanToJSON)(e),{spanId:r}=e.spanContext(),i=(0,ec.getRootSpan)(e)===e,s=`[Tracing] Finishing "${n}" ${i?"root ":""}span "${t}" with ID ${r}`;Z.debug.log(s)}var eY=e.i(62308);function eV(e,t,n){let r,i;if(!(0,eL.hasSpansEnabled)(e))return[!1];"function"==typeof e.tracesSampler?(r=e.tracesSampler({...t,inheritOrSampleWith:e=>"number"==typeof t.parentSampleRate?t.parentSampleRate:"boolean"==typeof t.parentSampled?Number(t.parentSampled):e}),i=!0):void 0!==t.parentSampled?r=t.parentSampled:void 0!==e.tracesSampleRate&&(r=e.tracesSampleRate,i=!0);let s=(0,eY.parseSampleRate)(r);if(void 0===s)return q.DEBUG_BUILD&&Z.debug.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(r)} of type ${JSON.stringify(typeof r)}.`),[!1];if(!s)return q.DEBUG_BUILD&&Z.debug.log(`[Tracing] Discarding transaction because ${"function"==typeof e.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,s,i];let a=n<s;return!a&&q.DEBUG_BUILD&&Z.debug.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(r)})`),[a,s,i]}(g=o||(o={}))[g.NONE=0]="NONE",g[g.SAMPLED=1]="SAMPLED";var eH="0000000000000000",ez="00000000000000000000000000000000",eW={traceId:ez,spanId:eH,traceFlags:o.NONE},eJ=function(){function e(e){void 0===e&&(e=eW),this._spanContext=e}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return this},e.prototype.setAttributes=function(e){return this},e.prototype.addEvent=function(e,t){return this},e.prototype.addLink=function(e){return this},e.prototype.addLinks=function(e){return this},e.prototype.setStatus=function(e){return this},e.prototype.updateName=function(e){return this},e.prototype.end=function(e){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(e,t){},e}(),eK=s("OpenTelemetry Context Key SPAN");function eq(e){return e.getValue(eK)||void 0}function eX(){return eq(J.getInstance().active())}function eZ(e,t){return e.setValue(eK,t)}function eQ(e){return e.deleteValue(eK)}function e0(e,t){return eZ(e,new eJ(t))}function e1(e){var t;return null==(t=eq(e))?void 0:t.spanContext()}var e2=/^([0-9a-f]{32})$/i,e5=/^[0-9a-f]{16}$/i;function e4(e){return e2.test(e)&&e!==ez}function e3(e){var t;return e4(e.traceId)&&(t=e.spanId,e5.test(t)&&t!==eH)}function e9(e){return new eJ(e)}var e6=J.getInstance(),e8=function(){function e(){}return e.prototype.startSpan=function(e,t,n){if(void 0===n&&(n=e6.active()),null==t?void 0:t.root)return new eJ;var r,i=n&&e1(n);return"object"==typeof(r=i)&&"string"==typeof r.spanId&&"string"==typeof r.traceId&&"number"==typeof r.traceFlags&&e3(i)?new eJ(i):new eJ},e.prototype.startActiveSpan=function(e,t,n,r){if(!(arguments.length<2)){2==arguments.length?a=t:3==arguments.length?(i=t,a=n):(i=t,s=n,a=r);var i,s,a,o=null!=s?s:e6.active(),u=this.startSpan(e,i,o),c=eZ(o,u);return e6.with(c,a,void 0,u)}},e}(),e7=new e8,te=function(){function e(e,t,n,r){this._provider=e,this.name=t,this.version=n,this.options=r}return e.prototype.startSpan=function(e,t,n){return this._getTracer().startSpan(e,t,n)},e.prototype.startActiveSpan=function(e,t,n,r){var i=this._getTracer();return Reflect.apply(i.startActiveSpan,i,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):e7},e}(),tt=new(function(){function e(){}return e.prototype.getTracer=function(e,t,n){return new e8},e}()),tn=function(){function e(){}return e.prototype.getTracer=function(e,t,n){var r;return null!=(r=this.getDelegateTracer(e,t,n))?r:new te(this,e,t,n)},e.prototype.getDelegate=function(){var e;return null!=(e=this._delegate)?e:tt},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateTracer=function(e,t,n){var r;return null==(r=this._delegate)?void 0:r.getTracer(e,t,n)},e}(),tr="trace",ti=(function(){function e(){this._proxyTracerProvider=new tn,this.wrapSpanContext=e9,this.isSpanContextValid=e3,this.deleteSpan=eQ,this.getSpan=eq,this.getActiveSpan=eX,this.getSpanContext=e1,this.setSpan=eZ,this.setSpanContext=e0}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(e){var t=U(tr,this._proxyTracerProvider,Y.instance());return t&&this._proxyTracerProvider.setDelegate(e),t},e.prototype.getTracerProvider=function(){return M(tr)||this._proxyTracerProvider},e.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},e.prototype.disable=function(){x(tr,Y.instance()),this._proxyTracerProvider=new tn},e})().getInstance();(m=u||(u={}))[m.INTERNAL=0]="INTERNAL",m[m.SERVER=1]="SERVER",m[m.CLIENT=2]="CLIENT",m[m.PRODUCER=3]="PRODUCER",m[m.CONSUMER=4]="CONSUMER";var ts=function(){function e(){}return e.prototype.inject=function(e,t){},e.prototype.extract=function(e,t){return e},e.prototype.fields=function(){return[]},e}(),ta={get:function(e,t){if(null!=e)return e[t]},keys:function(e){return null==e?[]:Object.keys(e)}},to={set:function(e,t,n){null!=e&&(e[t]=n)}},tu=s("OpenTelemetry Baggage Key");function tc(e){return e.getValue(tu)||void 0}function tl(){return tc(J.getInstance().active())}function tp(e,t){return e.setValue(tu,t)}function td(e){return e.deleteValue(tu)}var t_=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return a},tf=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},th=function(){function e(e){this._entries=e?new Map(e):new Map}return e.prototype.getEntry=function(e){var t=this._entries.get(e);if(t)return Object.assign({},t)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(e){var t=t_(e,2);return[t[0],t[1]]})},e.prototype.setEntry=function(t,n){var r=new e(this._entries);return r._entries.set(t,n),r},e.prototype.removeEntry=function(t){var n=new e(this._entries);return n._entries.delete(t),n},e.prototype.removeEntries=function(){for(var t,n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var s=new e(this._entries);try{for(var a=tf(r),o=a.next();!o.done;o=a.next()){var u=o.value;s._entries.delete(u)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return s},e.prototype.clear=function(){return new e},e}(),tg=Symbol("BaggageEntryMetadata"),tm=Y.instance();function tS(e){return void 0===e&&(e={}),new th(new Map(Object.entries(e)))}var tE="propagation",tT=new ts,tv=(function(){function e(){this.createBaggage=tS,this.getBaggage=tc,this.getActiveBaggage=tl,this.setBaggage=tp,this.deleteBaggage=td}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(e){return U(tE,e,Y.instance())},e.prototype.inject=function(e,t,n){return void 0===n&&(n=to),this._getGlobalPropagator().inject(e,t,n)},e.prototype.extract=function(e,t,n){return void 0===n&&(n=ta),this._getGlobalPropagator().extract(e,t,n)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){x(tE,Y.instance())},e.prototype._getGlobalPropagator=function(){return M(tE)||tT},e})().getInstance();(S=c||(c={}))[S.UNSET=0]="UNSET",S[S.OK=1]="OK",S[S.ERROR=2]="ERROR";let ty="[_0-9a-z-*/]",tI=`[a-z]${ty}{0,255}`,tR=`[a-z0-9]${ty}{0,240}@[a-z]${ty}{0,13}`,tA=RegExp(`^(?:${tI}|${tR})$`),tb=/^[ -~]{0,255}[!-~]$/,tO=/,|=/;class tC{_internalState=new Map;constructor(e){e&&this._parse(e)}set(e,t){let n=this._clone();return n._internalState.has(e)&&n._internalState.delete(e),n._internalState.set(e,t),n}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+"="+this.get(t)),e),[]).join(",")}_parse(e){!(e.length>512)&&(this._internalState=e.split(",").reverse().reduce((e,t)=>{let n=t.trim(),r=n.indexOf("=");if(-1!==r){let i=n.slice(0,r),s=n.slice(r+1,t.length);tA.test(i)&&tb.test(s)&&!tO.test(s)&&e.set(i,s)}return e},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new tC;return e._internalState=new Map(this._internalState),e}}s("OpenTelemetry SDK Context Key SUPPRESS_TRACING");(E=l||(l={}))[E.NOT_RECORD=0]="NOT_RECORD",E[E.RECORD=1]="RECORD",E[E.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED";let tN=s("sentry_scopes");s("sentry_fork_isolation_scope"),s("sentry_fork_set_scope"),s("sentry_fork_set_isolation_scope");"undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;var tL=e.i(51615),tD=e.i(46665),tP=e.i(2393),tw=e.i(50666);function tU(e,t=[]){return[e,t]}function tM(e,t){for(let n of e[1]){let e=n[0].type;if(t(n,e))return!0}return!1}function tx(e){let t=(0,tP.getSentryCarrier)(X.GLOBAL_OBJ);return t.encodePolyfill?t.encodePolyfill(e):new TextEncoder().encode(e)}let tB={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item",metric:"metric",trace_metric:"metric"};function tk(e){if(!e?.sdk)return;let{name:t,version:n}=e.sdk;return{name:t,version:n}}var tF=e.i(60748);function t$(e){Z.debug.log(`Ignoring span ${e.op} - ${e.description} because it matches \`ignoreSpans\`.`)}function tG(e,t){if(!t?.length||!e.description)return!1;for(let r of t){var n;if("string"==typeof(n=r)||n instanceof RegExp){if((0,ew.isMatchingPattern)(e.description,r))return q.DEBUG_BUILD&&t$(e),!0;continue}if(!r.name&&!r.op)continue;let t=!r.name||(0,ew.isMatchingPattern)(e.description,r.name),i=!r.op||e.op&&(0,ew.isMatchingPattern)(e.op,r.op);if(t&&i)return q.DEBUG_BUILD&&t$(e),!0}return!1}let tj=[];function tY(e,t){for(let n of t)n?.afterAllSetup&&n.afterAllSetup(e)}function tV(e,t,n){if(n[t.name]){q.DEBUG_BUILD&&Z.debug.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,-1===tj.indexOf(t.name)&&"function"==typeof t.setupOnce&&(t.setupOnce(),tj.push(t.name)),t.setup&&"function"==typeof t.setup&&t.setup(e),"function"==typeof t.preprocessEvent){let n=t.preprocessEvent.bind(t);e.on("preprocessEvent",(t,r)=>n(t,r,e))}if("function"==typeof t.processEvent){let n=t.processEvent.bind(t),r=Object.assign((t,r)=>n(t,r,e),{id:t.name});e.addEventProcessor(r)}q.DEBUG_BUILD&&Z.debug.log(`Integration installed: ${t.name}`)}e.i(81612);var tH=e.i(52434),tz=e.i(57890);function tW(e,t){var n,r,i,s;let a,o=t??(s=e,tJ().get(s))??[];if(0===o.length)return;let u=e.getOptions(),c=(n=u._metadata,r=u.tunnel,i=e.getDsn(),a={},n?.sdk&&(a.sdk={name:n.sdk.name,version:n.sdk.version}),r&&i&&(a.dsn=(0,tD.dsnToString)(i)),tU(a,[[{type:"log",item_count:o.length,content_type:"application/vnd.sentry.items.log+json"},{items:o}]]));tJ().set(e,[]),e.emit("flushLogs"),e.sendEnvelope(c)}function tJ(){return(0,tP.getGlobalSingleton)("clientToLogBufferMap",()=>new WeakMap)}function tK(e,t){var n,r,i,s;let a,o=t??(s=e,tq().get(s))??[];if(0===o.length)return;let u=e.getOptions(),c=(n=u._metadata,r=u.tunnel,i=e.getDsn(),a={},n?.sdk&&(a.sdk={name:n.sdk.name,version:n.sdk.version}),r&&i&&(a.dsn=(0,tD.dsnToString)(i)),tU(a,[[{type:"trace_metric",item_count:o.length,content_type:"application/vnd.sentry.items.trace-metric+json"},{items:o}]]));tq().set(e,[]),e.emit("flushMetrics"),e.sendEnvelope(c)}function tq(){return(0,tP.getGlobalSingleton)("clientToMetricBufferMap",()=>new WeakMap)}var tX=e.i(98881);function tZ(e){let t=[];e.message&&t.push(e.message);try{let n=e.exception.values[e.exception.values.length-1];n?.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`))}catch{}return t}var tQ=e.i(74779),t0=e.i(75403),t1=e.i(33245),t2=e.i(69728);let t5="Not capturing exception because it's already been captured.",t4="Discarded session because of missing or non-string release",t3=Symbol.for("SentryInternalError"),t9=Symbol.for("SentryDoNotSendEventError");function t6(e){return{message:e,[t3]:!0}}function t8(e){return{message:e,[t9]:!0}}function t7(e){return!!e&&"object"==typeof e&&t3 in e}function ne(e){return!!e&&"object"==typeof e&&t9 in e}function nt(e,t,n,r,i){let s,a=0;e.on(n,()=>{a=0,clearTimeout(s)}),e.on(t,t=>{(a+=r(t))>=8e5?i(e):(clearTimeout(s),s=setTimeout(()=>{i(e)},5e3))}),e.on("flush",()=>{i(e)})}class nn{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=(0,tD.makeDsn)(e.dsn):q.DEBUG_BUILD&&Z.debug.warn("No DSN provided, client will not send events."),this._dsn){const t=function(e,t,n){let r,i,s;return t||`${r=e.protocol?`${e.protocol}:`:"",i=e.port?`:${e.port}`:"",`${r}//${e.host}${i}${e.path?`/${e.path}`:""}/api/`}${e.projectId}/envelope/?${s={sentry_version:"7"},e.publicKey&&(s.sentry_key=e.publicKey),n&&(s.sentry_client=`${n.name}/${n.version}`),new URLSearchParams(s).toString()}`}(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}this._options.enableLogs&&nt(this,"afterCaptureLog","flushLogs",na,tW),this._options._experiments?.enableMetrics&&nt(this,"afterCaptureMetric","flushMetrics",ns,tK)}captureException(e,t,n){let r=(0,t0.uuid4)();if((0,t0.checkOrSetAlreadyCaught)(e))return q.DEBUG_BUILD&&Z.debug.log(t5),r;let i={event_id:r,...t};return this._process(this.eventFromException(e,i).then(e=>this._captureEvent(e,i,n))),i.event_id}captureMessage(e,t,n,r){let i={event_id:(0,t0.uuid4)(),...n},s=(0,eM.isParameterizedString)(e)?e:String(e),a=(0,eM.isPrimitive)(e)?this.eventFromMessage(s,t,i):this.eventFromException(e,i);return this._process(a.then(e=>this._captureEvent(e,i,r))),i.event_id}captureEvent(e,t,n){let r=(0,t0.uuid4)();if(t?.originalException&&(0,t0.checkOrSetAlreadyCaught)(t.originalException))return q.DEBUG_BUILD&&Z.debug.log(t5),r;let i={event_id:r,...t},s=e.sdkProcessingMetadata||{},a=s.capturedSpanScope,o=s.capturedSpanIsolationScope;return this._process(this._captureEvent(e,i,a||n,o)),i.event_id}captureSession(e){this.sendSession(e),(0,tX.updateSession)(e,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}async flush(e){let t=this._transport;if(!t)return!0;this.emit("flush");let n=await this._isClientDoneProcessing(e),r=await t.flush(e);return n&&r}async close(e){let t=await this.flush(e);return this.getOptions().enabled=!1,this.emit("close"),t}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(({name:e})=>e.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){let t=this._integrations[e.name];tV(this,e,this._integrations),t||tY(this,[e])}sendEvent(e,t={}){var n,r,i;let s,a,o,u;this.emit("beforeSendEvent",e,t);let c=(n=this._dsn,r=this._options._metadata,i=this._options.tunnel,s=tk(r),a=e.type&&"replay_event"!==e.type?e.type:"event",!function(e,t){if(!t)return;let n=e.sdk||{};e.sdk={...n,name:n.name||t.name,version:n.version||t.version,integrations:[...e.sdk?.integrations||[],...t.integrations||[]],packages:[...e.sdk?.packages||[],...t.packages||[]],settings:e.sdk?.settings||t.settings?{...e.sdk?.settings,...t.settings}:void 0}}(e,r?.sdk),o=e.sdkProcessingMetadata?.dynamicSamplingContext,u={event_id:e.event_id,sent_at:new Date().toISOString(),...s&&{sdk:s},...!!i&&n&&{dsn:(0,tD.dsnToString)(n)},...o&&{trace:o}},delete e.sdkProcessingMetadata,tU(u,[[{type:a},e]]));for(let e of t.attachments||[])c=function(e,t){let[n,r]=e;return[n,[...r,t]]}(c,function(e){let t="string"==typeof e.data?tx(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}(e));this.sendEnvelope(c).then(t=>this.emit("afterSendEvent",e,t))}sendSession(e){var t,n,r;let i,{release:s,environment:a=tF.DEFAULT_ENVIRONMENT}=this._options;if("aggregates"in e){let t=e.attrs||{};if(!t.release&&!s){q.DEBUG_BUILD&&Z.debug.warn(t4);return}t.release=t.release||s,t.environment=t.environment||a,e.attrs=t}else{if(!e.release&&!s){q.DEBUG_BUILD&&Z.debug.warn(t4);return}e.release=e.release||s,e.environment=e.environment||a}this.emit("beforeSendSession",e);let o=(t=this._dsn,n=this._options._metadata,r=this._options.tunnel,i=tk(n),tU({sent_at:new Date().toISOString(),...i&&{sdk:i},...!!r&&t&&{dsn:(0,tD.dsnToString)(t)}},["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()]]));this.sendEnvelope(o)}recordDroppedEvent(e,t,n=1){if(this._options.sendClientReports){let r=`${e}:${t}`;q.DEBUG_BUILD&&Z.debug.log(`Recording outcome: "${r}"${n>1?` (${n} times)`:""}`),this._outcomes[r]=(this._outcomes[r]||0)+n}}on(e,t){let n=this._hooks[e]=this._hooks[e]||new Set,r=(...e)=>t(...e);return n.add(r),()=>{n.delete(r)}}emit(e,...t){let n=this._hooks[e];n&&n.forEach(e=>e(...t))}async sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)try{return await this._transport.send(e)}catch(e){return q.DEBUG_BUILD&&Z.debug.error("Error while sending envelope:",e),{}}return q.DEBUG_BUILD&&Z.debug.error("Transport disabled"),{}}_setupIntegrations(){var e;let t,{integrations:n}=this._options;this._integrations=(e=this,t={},n.forEach(n=>{n&&tV(e,n,t)}),t),tY(this,n)}_updateSessionFromEvent(e,t){let n="fatal"===t.level,r=!1,i=t.exception?.values;if(i)for(let e of(r=!0,i)){let t=e.mechanism;if(t?.handled===!1){n=!0;break}}let s="ok"===e.status;(s&&0===e.errors||s&&n)&&((0,tX.updateSession)(e,{...n&&{status:"crashed"},errors:e.errors||Number(r||n)}),this.captureSession(e))}async _isClientDoneProcessing(e){let t=0;for(;!e||t<e;){if(await new Promise(e=>setTimeout(e,1)),!this._numProcessing)return!0;t++}return!1}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,n,r){let i=this.getOptions(),s=Object.keys(this._integrations);return!t.integrations&&s?.length&&(t.integrations=s),this.emit("preprocessEvent",e,t),e.type||r.setLastEventId(e.event_id||t.event_id),(0,t1.prepareEvent)(i,e,t,n,this,r).then(e=>(null===e||(this.emit("postprocessEvent",e,t),e.contexts={trace:(0,em.getTraceContextFromScope)(n),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:(0,eU.getDynamicSamplingContextFromScope)(this,n),...e.sdkProcessingMetadata}),e))}_captureEvent(e,t={},n=(0,em.getCurrentScope)(),r=(0,em.getIsolationScope)()){return q.DEBUG_BUILD&&nr(e)&&Z.debug.log(`Captured error event \`${tZ(e)[0]||"<unknown>"}\``),this._processEvent(e,t,n,r).then(e=>e.event_id,e=>{q.DEBUG_BUILD&&(ne(e)?Z.debug.log(e.message):t7(e)?Z.debug.warn(e.message):Z.debug.warn(e))})}_processEvent(e,t,n,r){let i=this.getOptions(),{sampleRate:s}=i,a=ni(e),o=nr(e),u=e.type||"error",c=`before send for type \`${u}\``,l=void 0===s?void 0:(0,eY.parseSampleRate)(s);if(o&&"number"==typeof l&&Math.random()>l)return this.recordDroppedEvent("sample_rate","error"),(0,t2.rejectedSyncPromise)(t8(`Discarding event because it's not included in the random sample (sampling rate = ${s})`));let p="replay_event"===u?"replay":u;return this._prepareEvent(e,t,n,r).then(e=>{if(null===e)throw this.recordDroppedEvent("event_processor",p),t8("An event processor returned `null`, will not send event.");return t.data&&!0===t.data.__sentry__?e:function(e,t){let n=`${t} must return \`null\` or a valid event.`;if((0,eM.isThenable)(e))return e.then(e=>{if(!(0,eM.isPlainObject)(e)&&null!==e)throw t6(n);return e},e=>{throw t6(`${t} rejected with ${e}`)});if(!(0,eM.isPlainObject)(e)&&null!==e)throw t6(n);return e}(function(e,t,n,r){let{beforeSend:i,beforeSendTransaction:s,beforeSendSpan:a,ignoreSpans:o}=t,u=n;if(nr(u)&&i)return i(u,r);if(ni(u)){if(a||o){let t=function(e){let{trace_id:t,parent_span_id:n,span_id:r,status:i,origin:s,data:a,op:o}=e.contexts?.trace??{};return{data:a??{},description:e.transaction,op:o,parent_span_id:n,span_id:r??"",start_timestamp:e.start_timestamp??0,status:i,timestamp:e.timestamp,trace_id:t??"",origin:s,profile_id:a?.[eh.SEMANTIC_ATTRIBUTE_PROFILE_ID],exclusive_time:a?.[eh.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME],measurements:e.measurements,is_segment:!0}}(u);if(o?.length&&tG(t,o))return null;if(a){let e=a(t);if(e)u=(0,tQ.merge)(n,{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{[eh.SEMANTIC_ATTRIBUTE_PROFILE_ID]:e.profile_id},...e.exclusive_time&&{[eh.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME]:e.exclusive_time}}}},measurements:e.measurements});else(0,ec.showSpanDropWarning)()}if(u.spans){let t=[],n=u.spans;for(let e of n){if(o?.length&&tG(e,o)){!function(e,t){let n=t.parent_span_id,r=t.span_id;if(n)for(let t of e)t.parent_span_id===r&&(t.parent_span_id=n)}(n,e);continue}if(a){let n=a(e);n?t.push(n):((0,ec.showSpanDropWarning)(),t.push(e))}else t.push(e)}let r=u.spans.length-t.length;r&&e.recordDroppedEvent("before_send","span",r),u.spans=t}}if(s){if(u.spans){let e=u.spans.length;u.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:e}}return s(u,r)}}return u}(this,i,e,t),c)}).then(i=>{if(null===i){if(this.recordDroppedEvent("before_send",p),a){let t=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",t)}throw t8(`${c} returned \`null\`, will not send event.`)}let s=n.getSession()||r.getSession();if(o&&s&&this._updateSessionFromEvent(s,i),a){let e=(i.sdkProcessingMetadata?.spanCountBeforeProcessing||0)-(i.spans?i.spans.length:0);e>0&&this.recordDroppedEvent("before_send","span",e)}let u=i.transaction_info;return a&&u&&i.transaction!==e.transaction&&(i.transaction_info={...u,source:"custom"}),this.sendEvent(i,t),i}).then(null,e=>{if(ne(e)||t7(e))throw e;throw this.captureException(e,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:e}),t6(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${e}`)})}_process(e){this._numProcessing++,e.then(e=>(this._numProcessing--,e),e=>(this._numProcessing--,e))}_clearOutcomes(){let e=this._outcomes;return this._outcomes={},Object.entries(e).map(([e,t])=>{let[n,r]=e.split(":");return{reason:n,category:r,quantity:t}})}_flushOutcomes(){var e;q.DEBUG_BUILD&&Z.debug.log("Flushing outcomes...");let t=this._clearOutcomes();if(0===t.length){q.DEBUG_BUILD&&Z.debug.log("No outcomes to send");return}if(!this._dsn){q.DEBUG_BUILD&&Z.debug.log("No dsn provided, will not send outcomes");return}q.DEBUG_BUILD&&Z.debug.log("Sending outcomes:",t);let n=tU((e=this._options.tunnel&&(0,tD.dsnToString)(this._dsn))?{dsn:e}:{},[[{type:"client_report"},{timestamp:(0,tz.dateTimestampInSeconds)(),discarded_events:t}]]);this.sendEnvelope(n)}}function nr(e){return void 0===e.type}function ni(e){return"transaction"===e.type}function ns(e){let t=0;return e.name&&(t+=2*e.name.length),"string"==typeof e.value?t+=2*e.value.length:t+=8,t+no(e.attributes)}function na(e){let t=0;return e.message&&(t+=2*e.message.length),t+no(e.attributes)}function no(e){if(!e)return 0;let t=0;return Object.values(e).forEach(e=>{Array.isArray(e)?t+=e.length*nu(e[0]):(0,eM.isPrimitive)(e)?t+=nu(e):t+=100}),t}function nu(e){return"string"==typeof e?2*e.length:"number"==typeof e?8:4*("boolean"==typeof e)}function nc(e,t){return e(t.stack||"",1)}function nl(e,t){let n={type:t.name||t.constructor.name,value:t.message},r=nc(e,t);return r.length&&(n.stacktrace={frames:r}),n}class np extends nn{constructor(e){ed(),super(e)}eventFromException(e,t){let n=function(e,t,n,r){let i=r?.data&&r.data.mechanism||{handled:!0,type:"generic"},[s,a]=function(e,t,n,r){if((0,eM.isError)(n))return[n,void 0];if(t.synthetic=!0,(0,eM.isPlainObject)(n)){let t=e?.getOptions().normalizeDepth,i={__serialized__:(0,tw.normalizeToSize)(n,t)},s=function(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t)){let n=e[t];if(n instanceof Error)return n}}(n);if(s)return[s,i];let a=function(e){if("name"in e&&"string"==typeof e.name){let t=`'${e.name}' captured as exception`;return"message"in e&&"string"==typeof e.message&&(t+=` with message '${e.message}'`),t}if("message"in e&&"string"==typeof e.message)return e.message;let t=(0,eO.extractExceptionKeysForMessage)(e);if((0,eM.isErrorEvent)(e))return`Event \`ErrorEvent\` captured as exception with message \`${e.message}\``;let n=function(e){try{let t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}(e);return`${n&&"Object"!==n?`'${n}'`:"Object"} captured as exception with keys: ${t}`}(n),o=r?.syntheticException||Error(a);return o.message=a,[o,i]}let i=r?.syntheticException||Error(n);return i.message=`${n}`,[i,void 0]}(e,i,n,r),o={exception:{values:[nl(t,s)]}};return a&&(o.extra=a),(0,t0.addExceptionTypeValue)(o,void 0,void 0),(0,t0.addExceptionMechanism)(o,i),{...o,event_id:r?.event_id}}(this,this._options.stackParser,e,t);return n.level="error",(0,t2.resolvedSyncPromise)(n)}eventFromMessage(e,t="info",n){return(0,t2.resolvedSyncPromise)(function(e,t,n="info",r,i){let s={event_id:r?.event_id,level:n};if(i&&r?.syntheticException){let n=nc(e,r.syntheticException);n.length&&(s.exception={values:[{value:t,stacktrace:{frames:n}}]},(0,t0.addExceptionMechanism)(s,{synthetic:!0}))}if((0,eM.isParameterizedString)(t)){let{__sentry_template_string__:e,__sentry_template_values__:n}=t;return s.logentry={message:e,params:n},s}return s.message=t,s}(this._options.stackParser,e,t,n,this._options.attachStacktrace))}captureException(e,t,n){return nd(t),super.captureException(e,t,n)}captureEvent(e,t,n){return!e.type&&e.exception?.values&&e.exception.values.length>0&&nd(t),super.captureEvent(e,t,n)}captureCheckIn(e,t,n){var r,i,s;let a,o="checkInId"in e&&e.checkInId?e.checkInId:(0,t0.uuid4)();if(!this._isEnabled())return q.DEBUG_BUILD&&Z.debug.warn("SDK not enabled, will not capture check-in."),o;let{release:u,environment:c,tunnel:l}=this.getOptions(),p={check_in_id:o,monitor_slug:e.monitorSlug,status:e.status,release:u,environment:c};"duration"in e&&(p.duration=e.duration),t&&(p.monitor_config={schedule:t.schedule,checkin_margin:t.checkinMargin,max_runtime:t.maxRuntime,timezone:t.timezone,failure_issue_threshold:t.failureIssueThreshold,recovery_threshold:t.recoveryThreshold});let[d,_]=(r=this,n?(0,em.withScope)(n,()=>{let e=(0,ec.getActiveSpan)(),t=e?(0,ec.spanToTraceContext)(e):(0,em.getTraceContextFromScope)(n);return[e?(0,eU.getDynamicSamplingContextFromSpan)(e):(0,eU.getDynamicSamplingContextFromScope)(r,n),t]}):[void 0,void 0]);_&&(p.contexts={trace:_});let f=(i=this.getSdkMetadata(),s=this.getDsn(),a={sent_at:new Date().toISOString()},i?.sdk&&(a.sdk={name:i.sdk.name,version:i.sdk.version}),l&&s&&(a.dsn=(0,tD.dsnToString)(s)),d&&(a.trace=d),tU(a,[[{type:"check_in"},p]]));return q.DEBUG_BUILD&&Z.debug.log("Sending checkin:",e.monitorSlug,e.status),this.sendEnvelope(f),o}_prepareEvent(e,t,n,r){return this._options.platform&&(e.platform=e.platform||this._options.platform),this._options.runtime&&(e.contexts={...e.contexts,runtime:e.contexts?.runtime||this._options.runtime}),this._options.serverName&&(e.server_name=e.server_name||this._options.serverName),super._prepareEvent(e,t,n,r)}}function nd(e){let t=(0,em.getIsolationScope)().getScopeData().sdkProcessingMetadata.requestSession;if(t){let n=e?.mechanism?.handled??!0;n&&"crashed"!==t.status?t.status="errored":n||(t.status="crashed")}}function n_(e,t){return!!e&&"object"==typeof e&&!!e[t]}function nf(e){return"string"==typeof e?e:e?n_(e,"url")?e.url:e.toString?e.toString():"":""}X.GLOBAL_OBJ;var nh=e.i(99316);class ng{constructor(e={}){this._traceId=e.traceId||(0,nh.generateTraceId)(),this._spanId=e.spanId||(0,nh.generateSpanId)()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:ec.TRACE_FLAG_NONE}}end(e){}setAttribute(e,t){return this}setAttributes(e){return this}setStatus(e){return this}updateName(e){return this}isRecording(){return!1}addEvent(e,t,n){return this}addLink(e){return this}addLinks(e){return this}recordException(e,t){}}class nm{constructor(e={}){this._traceId=e.traceId||(0,nh.generateTraceId)(),this._spanId=e.spanId||(0,nh.generateSpanId)(),this._startTime=e.startTimestamp||(0,tz.timestampInSeconds)(),this._links=e.links,this._attributes={},this.setAttributes({[eh.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"manual",[eh.SEMANTIC_ATTRIBUTE_SENTRY_OP]:e.op,...e.attributes}),this._name=e.name,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.endTimestamp&&(this._endTime=e.endTimestamp),this._events=[],this._isStandaloneSpan=e.isStandalone,this._endTime&&this._onSpanEnded()}addLink(e){return this._links?this._links.push(e):this._links=[e],this}addLinks(e){return this._links?this._links.push(...e):this._links=e,this}recordException(e,t){}spanContext(){let{_spanId:e,_traceId:t,_sampled:n}=this;return{spanId:e,traceId:t,traceFlags:n?ec.TRACE_FLAG_SAMPLED:ec.TRACE_FLAG_NONE}}setAttribute(e,t){return void 0===t?delete this._attributes[e]:this._attributes[e]=t,this}setAttributes(e){return Object.keys(e).forEach(t=>this.setAttribute(t,e[t])),this}updateStartTime(e){this._startTime=(0,ec.spanTimeInputToSeconds)(e)}setStatus(e){return this._status=e,this}updateName(e){return this._name=e,this.setAttribute(eh.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE,"custom"),this}end(e){this._endTime||(this._endTime=(0,ec.spanTimeInputToSeconds)(e),ej(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[eh.SEMANTIC_ATTRIBUTE_SENTRY_OP],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:(0,ec.getStatusMessage)(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[eh.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN],profile_id:this._attributes[eh.SEMANTIC_ATTRIBUTE_PROFILE_ID],exclusive_time:this._attributes[eh.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME],measurements:eF(this._events),is_segment:this._isStandaloneSpan&&(0,ec.getRootSpan)(this)===this||void 0,segment_id:this._isStandaloneSpan?(0,ec.getRootSpan)(this).spanContext().spanId:void 0,links:(0,ec.convertSpanLinksForEnvelope)(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(e,t,n){q.DEBUG_BUILD&&Z.debug.log("[Tracing] Adding an event to span:",e);let r=nS(t)?t:n||(0,tz.timestampInSeconds)(),i=nS(t)?{}:t||{},s={name:e,time:(0,ec.spanTimeInputToSeconds)(r),attributes:i};return this._events.push(s),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){let e=(0,em.getClient)();if(e&&e.emit("spanEnd",this),!(this._isStandaloneSpan||this===(0,ec.getRootSpan)(this)))return;if(this._isStandaloneSpan)return void(this._sampled?function(e){let t=(0,em.getClient)();if(!t)return;let n=e[1];n&&0!==n.length?t.sendEnvelope(e):t.recordDroppedEvent("before_send","span")}(function(e,t){let n=(0,eU.getDynamicSamplingContextFromSpan)(e[0]),r=t?.getDsn(),i=t?.getOptions().tunnel,s={sent_at:new Date().toISOString(),...!!n.trace_id&&!!n.public_key&&{trace:n},...!!i&&r&&{dsn:(0,tD.dsnToString)(r)}},{beforeSendSpan:a,ignoreSpans:o}=t?.getOptions()||{},u=o?.length?e.filter(e=>!tG((0,ec.spanToJSON)(e),o)):e,c=e.length-u.length;c&&t?.recordDroppedEvent("before_send","span",c);let l=a?e=>{let t=(0,ec.spanToJSON)(e),n=a(t);return n||((0,ec.showSpanDropWarning)(),t)}:ec.spanToJSON,p=[];for(let e of u){let t=l(e);t&&p.push([{type:"span"},t])}return tU(s,p)}([this],e)):(q.DEBUG_BUILD&&Z.debug.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),e&&e.recordDroppedEvent("sample_rate","span")));let t=this._convertSpanToTransaction();t&&((0,eg.getCapturedScopesOnSpan)(this).scope||(0,em.getCurrentScope)()).captureEvent(t)}_convertSpanToTransaction(){if(!nE((0,ec.spanToJSON)(this)))return;this._name||(q.DEBUG_BUILD&&Z.debug.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");let{scope:e,isolationScope:t}=(0,eg.getCapturedScopesOnSpan)(this),n=e?.getScopeData().sdkProcessingMetadata?.normalizedRequest;if(!0!==this._sampled)return;let r=(0,ec.getSpanDescendants)(this).filter(e=>{var t;return e!==this&&!((t=e)instanceof nm&&t.isStandaloneSpan())}).map(e=>(0,ec.spanToJSON)(e)).filter(nE),i=this._attributes[eh.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE];delete this._attributes[eh.SEMANTIC_ATTRIBUTE_SENTRY_CUSTOM_SPAN_NAME],r.forEach(e=>{delete e.data[eh.SEMANTIC_ATTRIBUTE_SENTRY_CUSTOM_SPAN_NAME]});let s={contexts:{trace:(0,ec.spanToTransactionTraceContext)(this)},spans:r.length>1e3?r.sort((e,t)=>e.start_timestamp-t.start_timestamp).slice(0,1e3):r,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:e,capturedSpanIsolationScope:t,dynamicSamplingContext:(0,eU.getDynamicSamplingContextFromSpan)(this)},request:n,...i&&{transaction_info:{source:i}}},a=eF(this._events);return a&&Object.keys(a).length&&(q.DEBUG_BUILD&&Z.debug.log("[Measurements] Adding measurements to transaction event",JSON.stringify(a,void 0,2)),s.measurements=a),s}}function nS(e){return e&&"number"==typeof e||e instanceof Date||Array.isArray(e)}function nE(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}let nT="__SENTRY_SUPPRESS_TRACING__";function nv(){let e=(0,tP.getMainCarrier)();return(0,eB.getAsyncContextStrategy)(e)}function ny(e,t,n){let r=(0,em.getClient)(),i=r?.getOptions()||{},{name:s=""}=e,a={spanAttributes:{...e.attributes},spanName:s,parentSampled:n};r?.emit("beforeSampling",a,{decision:!1});let o=a.parentSampled??n,u=a.spanAttributes,c=t.getPropagationContext(),[l,p,d]=t.getScopeData().sdkProcessingMetadata[nT]?[!1]:eV(i,{name:s,parentSampled:o,attributes:u,parentSampleRate:(0,eY.parseSampleRate)(c.dsc?.sample_rate)},c.sampleRand),_=new nm({...e,attributes:{[eh.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:"custom",[eh.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE]:void 0!==p&&d?p:void 0,...u},sampled:l});return!l&&r&&(q.DEBUG_BUILD&&Z.debug.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),r.recordDroppedEvent("sample_rate","transaction")),r&&r.emit("spanStart",_),_}function nI(e){return e.split(",").some(e=>e.trim().startsWith(eN.SENTRY_BAGGAGE_KEY_PREFIX))}function nR(e,t){let n=(0,em.getClient)(),r=(0,em.getIsolationScope)();if(!n)return;let{beforeBreadcrumb:i=null,maxBreadcrumbs:s=100}=n.getOptions();if(s<=0)return;let a={timestamp:(0,tz.dateTimestampInSeconds)(),...e},o=i?(0,Z.consoleSandbox)(()=>i(a,t)):a;null!==o&&(n.emit&&n.emit("beforeAddBreadcrumb",o,t),r.addBreadcrumb(o,s))}let nA=Symbol.for("SentryBufferFullError");function nb(e){return parseInt(e||"",10)||void 0}function nO(e,t){let n=(0,Q.getFramesFromEvent)(e),r=(0,Q.getFramesFromEvent)(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||r.length!==n.length)return!1;for(let e=0;e<r.length;e++){let t=r[e],i=n[e];if(t.filename!==i.filename||t.lineno!==i.lineno||t.colno!==i.colno||t.function!==i.function)return!1}return!0}function nC(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return n.join("")===r.join("")}catch{return!1}}function nN(e){return e.exception?.values?.[0]}let nL=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/];function nD(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:nL],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function nP(e){try{let t=[...e.exception?.values??[]].reverse().find(e=>e.mechanism?.parent_id===void 0&&e.stacktrace?.frames?.length),n=t?.stacktrace?.frames;return n?function(e=[]){for(let t=e.length-1;t>=0;t--){let n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(n):null}catch{return q.DEBUG_BUILD&&Z.debug.error(`Cannot extract url for event ${(0,t0.getEventDescription)(e)}`),null}}let nw=new WeakMap;function nU(e,t){e.mechanism={handled:!0,type:"auto.core.linked_errors",...e.mechanism,..."AggregateError"===e.type&&{is_exception_group:!0},exception_id:t}}function nM(e,t,n,r){e.mechanism={handled:!0,...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function nx(){"console"in X.GLOBAL_OBJ&&Z.CONSOLE_LEVELS.forEach(function(e){e in X.GLOBAL_OBJ.console&&(0,eO.fill)(X.GLOBAL_OBJ.console,e,function(t){return Z.originalConsoleMethods[e]=t,function(...t){ei("console",{args:t,level:e});let n=Z.originalConsoleMethods[e];n?.apply(X.GLOBAL_OBJ.console,t)}})})}function nB(e){return"util"in X.GLOBAL_OBJ&&"function"==typeof X.GLOBAL_OBJ.util.format?X.GLOBAL_OBJ.util.format(...e):(0,ew.safeJoin)(e," ")}let nk=["X-Client-IP","X-Forwarded-For","Fly-Client-IP","CF-Connecting-IP","Fastly-Client-Ip","True-Client-Ip","X-Real-IP","X-Cluster-Client-IP","X-Forwarded","Forwarded-For","Forwarded","X-Vercel-Forwarded-For"],nF={cookies:!0,data:!0,headers:!0,query_string:!0,url:!0};(T=p||(p={}))[T.NOT_RECORD=0]="NOT_RECORD",T[T.RECORD=1]="RECORD",T[T.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED";var n$=Y.instance();let nG={[eA]:"opentelemetry","process.runtime.name":"browser",[eR]:"webjs",[eb]:"2.2.0"},nj=e=>null!==e&&"object"==typeof e&&"function"==typeof e.then;class nY{_rawAttributes;_asyncAttributesPending=!1;_schemaUrl;_memoizedAttributes;static FromAttributeList(e,t){let n=new nY({},t);return n._rawAttributes=nz(e),n._asyncAttributesPending=e.filter(([e,t])=>nj(t)).length>0,n}constructor(e,t){const n=e.attributes??{};this._rawAttributes=Object.entries(n).map(([e,t])=>(nj(t)&&(this._asyncAttributesPending=!0),[e,t])),this._rawAttributes=nz(this._rawAttributes),this._schemaUrl=function(e){if("string"==typeof e||void 0===e)return e;n$.warn("Schema URL must be string or undefined, got %s. Schema URL will be ignored.",e)}(t?.schemaUrl)}get asyncAttributesPending(){return this._asyncAttributesPending}async waitForAsyncAttributes(){if(this.asyncAttributesPending){for(let e=0;e<this._rawAttributes.length;e++){let[t,n]=this._rawAttributes[e];this._rawAttributes[e]=[t,nj(n)?await n:n]}this._asyncAttributesPending=!1}}get attributes(){if(this.asyncAttributesPending&&n$.error("Accessing resource attributes before async attributes settled"),this._memoizedAttributes)return this._memoizedAttributes;let e={};for(let[t,n]of this._rawAttributes){if(nj(n)){n$.debug(`Unsettled resource attribute ${t} skipped`);continue}null!=n&&(e[t]??=n)}return this._asyncAttributesPending||(this._memoizedAttributes=e),e}getRawAttributes(){return this._rawAttributes}get schemaUrl(){return this._schemaUrl}merge(e){var t,n;let r,i,s;if(null==e)return this;let a=(t=this,n=e,r=t?.schemaUrl,s=void 0===(i=n?.schemaUrl)||""===i,void 0===r||""===r?i:s||r===i?r:void n$.warn('Schema URL merge conflict: old resource has "%s", updating resource has "%s". Resulting resource will have undefined Schema URL.',r,i));return nY.FromAttributeList([...e.getRawAttributes(),...this.getRawAttributes()],a?{schemaUrl:a}:void 0)}}function nV(e,t){return nY.FromAttributeList(Object.entries(e),t)}function nH(){return nV({"service.name":"unknown_service",[eR]:nG[eR],[eA]:nG[eA],[eb]:nG[eb]})}function nz(e){return e.map(([e,t])=>nj(t)?[e,t.catch(t=>{n$.debug("promise rejection for resource attribute: %s - %s",e,t)})]:[e,t])}void 0===globalThis.performance&&(globalThis.performance={timeOrigin:0,now:()=>Date.now()});class nW extends np{constructor(e){ef(e,"vercel-edge"),e._metadata=e._metadata||{},super({...e,platform:"javascript",runtime:{name:"vercel-edge"},serverName:e.serverName||process.env.SENTRY_NAME})}async flush(e){let t=this.traceProvider;return await t?.forceFlush(),this.getOptions().sendClientReports&&this._flushOutcomes(),super.flush(e)}}let nJ=s("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function nK(e){return e.setValue(nJ,!0)}function nq(e){return!0===e.getValue(nJ)}let nX="baggage";class nZ{inject(e,t,n){let r=tv.getBaggage(e);if(!r||nq(e))return;let i=r.getAllEntries().map(([e,t])=>{let n=`${encodeURIComponent(e)}=${encodeURIComponent(t.value)}`;return void 0!==t.metadata&&(n+=";"+t.metadata.toString()),n}).filter(e=>e.length<=4096).slice(0,180).reduce((e,t)=>{let n=`${e}${""!==e?",":""}${t}`;return n.length>8192?e:n},"");i.length>0&&n.set(t,nX,i)}extract(e,t,n){let r=n.get(t,nX),i=Array.isArray(r)?r.join(","):r;if(!i)return e;let s={};return 0===i.length||(i.split(",").forEach(e=>{let t=function(e){var t;let n,r=e.split(";");if(r.length<=0)return;let i=r.shift();if(!i)return;let s=i.indexOf("=");if(s<=0)return;let a=decodeURIComponent(i.substring(0,s).trim()),o=decodeURIComponent(i.substring(s+1).trim());return r.length>0&&("string"!=typeof(t=r.join(";"))&&(tm.error("Cannot create baggage metadata from unknown type: "+typeof t),t=""),n={__TYPE__:tg,toString:function(){return t}}),{key:a,value:o,metadata:n}}(e);if(t){let e={value:t.value};t.metadata&&(e.metadata=t.metadata),s[t.key]=e}}),0===Object.entries(s).length)?e:tv.setBaggage(e,tv.createBaggage(s))}fields(){return[nX]}}function nQ(e){let t={};if("object"!=typeof e||null==e)return t;for(let[r,i]of Object.entries(e)){var n;if(!("string"==typeof(n=r)&&n.length>0)){n$.warn(`Invalid attribute key: ${r}`);continue}if(!n0(i)){n$.warn(`Invalid attribute value set for key: ${r}`);continue}Array.isArray(i)?t[r]=i.slice():t[r]=i}return t}function n0(e){return null==e||(Array.isArray(e)?function(e){let t;for(let n of e)if(null!=n){if(!t){if(n1(n)){t=typeof n;continue}return!1}if(typeof n!==t)return!1}return!0}(e):n1(e))}function n1(e){switch(typeof e){case"number":case"boolean":case"string":return!0}return!1}function n2(e){try{var t;n$.error((t=e,"string"==typeof t?t:JSON.stringify(function(e){let t={},n=e;for(;null!==n;)Object.getOwnPropertyNames(n).forEach(e=>{if(t[e])return;let r=n[e];r&&(t[e]=String(r))}),n=Object.getPrototypeOf(n);return t}(t))))}catch{}}function n5(e){let t=process.env[e];if(null==t||""===t.trim())return;let n=Number(t);return isNaN(n)?void n$.warn(`Unknown value ${JSON.stringify(t,null,2)} for ${e}, expected a number, using defaults`):n}let n4="http.method",n3="http.url",n9="http.status_code",n6="exception.message",n8="exception.type",n7="http.request.method",re="http.response.status_code",rt="url.full";function rn(e){return[Math.trunc(e/1e3),Math.round(e%1e3*1e6)]}function rr(e){return Array.isArray(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}function ri(e){return rr(e)||"number"==typeof e||e instanceof Date}function rs(e,t){let n=[e[0]+t[0],e[1]+t[1]];return n[1]>=1e9&&(n[1]-=1e9,n[0]+=1),n}let ra="[_0-9a-z-*/]",ro=`[a-z]${ra}{0,255}`,ru=`[a-z0-9]${ra}{0,240}@[a-z]${ra}{0,13}`,rc=RegExp(`^(?:${ro}|${ru})$`),rl=/^[ -~]{0,255}[!-~]$/,rp=/,|=/;class rd{__init(){this._internalState=new Map}constructor(e){rd.prototype.__init.call(this),e&&this._parse(e)}set(e,t){let n=this._clone();return n._internalState.has(e)&&n._internalState.delete(e),n._internalState.set(e,t),n}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+"="+this.get(t)),e),[]).join(",")}_parse(e){!(e.length>512)&&(this._internalState=e.split(",").reverse().reduce((e,t)=>{let n=t.trim(),r=n.indexOf("=");if(-1!==r){let i=n.slice(0,r),s=n.slice(r+1,t.length);rc.test(i)&&rl.test(s)&&!rp.test(s)&&e.set(i,s)}return e},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new rd;return e._internalState=new Map(this._internalState),e}}let r_=Function.prototype.toString,rf=r_.call(Object),rh=Object.getPrototypeOf,rg=Object.prototype,rm=rg.hasOwnProperty,rS=Symbol?Symbol.toStringTag:void 0,rE=rg.toString;function rT(e){var t,n,r;if(null==(t=e)||"object"!=typeof t||"[object Object]"!==(null==(n=e)?void 0===n?"[object Undefined]":"[object Null]":rS&&rS in Object(n)?function(e){let t=rm.call(e,rS),n=e[rS],r=!1;try{e[rS]=void 0,r=!0}catch{}let i=rE.call(e);return r&&(t?e[rS]=n:delete e[rS]),i}(n):(r=n,rE.call(r))))return!1;let i=rh(e);if(null===i)return!0;let s=rm.call(i,"constructor")&&i.constructor;return"function"==typeof s&&s instanceof s&&r_.call(s)===rf}function rv(e){return rI(e)?e.slice():e}function ry(e,t,n){let r=n.get(e[t])||[];for(let n=0,i=r.length;n<i;n++){let i=r[n];if(i.key===t&&i.obj===e)return!0}return!1}function rI(e){return Array.isArray(e)}function rR(e){return"function"==typeof e}function rA(e){return!rb(e)&&!rI(e)&&!rR(e)&&"object"==typeof e}function rb(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||void 0===e||e instanceof Date||e instanceof RegExp||null===e}class rO{__init(){this.attributes={}}__init2(){this.links=[]}__init3(){this.events=[]}__init4(){this._droppedAttributesCount=0}__init5(){this._droppedEventsCount=0}__init6(){this._droppedLinksCount=0}__init7(){this.status={code:c.UNSET}}__init8(){this.endTime=[0,0]}__init9(){this._ended=!1}__init10(){this._duration=[-1,-1]}constructor(e){rO.prototype.__init.call(this),rO.prototype.__init2.call(this),rO.prototype.__init3.call(this),rO.prototype.__init4.call(this),rO.prototype.__init5.call(this),rO.prototype.__init6.call(this),rO.prototype.__init7.call(this),rO.prototype.__init8.call(this),rO.prototype.__init9.call(this),rO.prototype.__init10.call(this);const t=Date.now();this._spanContext=e.spanContext,this._performanceStartTime=Date.now(),this._performanceOffset=t-(this._performanceStartTime+0),this._startTimeProvided=null!=e.startTime,this._spanLimits=e.spanLimits,this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0,this._spanProcessor=e.spanProcessor,this.name=e.name,this.parentSpanContext=e.parentSpanContext,this.kind=e.kind,this.links=e.links||[],this.startTime=this._getTime(e.startTime??t),this.resource=e.resource,this.instrumentationScope=e.scope,null!=e.attributes&&this.setAttributes(e.attributes),this._spanProcessor.onStart(this,e.context)}spanContext(){return this._spanContext}setAttribute(e,t){if(null==t||this._isSpanEnded())return this;if(0===e.length)return n$.warn(`Invalid attribute key: ${e}`),this;if(!n0(t))return n$.warn(`Invalid attribute value set for key: ${e}`),this;let{attributeCountLimit:n}=this._spanLimits;return void 0!==n&&Object.keys(this.attributes).length>=n&&!Object.prototype.hasOwnProperty.call(this.attributes,e)?this._droppedAttributesCount++:this.attributes[e]=this._truncateToSize(t),this}setAttributes(e){for(let[t,n]of Object.entries(e))this.setAttribute(t,n);return this}addEvent(e,t,n){if(this._isSpanEnded())return this;let{eventCountLimit:r}=this._spanLimits;if(0===r)return n$.warn("No events allowed."),this._droppedEventsCount++,this;void 0!==r&&this.events.length>=r&&(0===this._droppedEventsCount&&n$.debug("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),ri(t)&&(ri(n)||(n=t),t=void 0);let i=nQ(t);return this.events.push({name:e,attributes:i,time:this._getTime(n),droppedAttributesCount:0}),this}addLink(e){return this.links.push(e),this}addLinks(e){return this.links.push(...e),this}setStatus(e){return this._isSpanEnded()||(this.status={...e},null!=this.status.message&&"string"!=typeof e.message&&(n$.warn(`Dropping invalid status.message of type '${typeof e.message}', expected 'string'`),delete this.status.message)),this}updateName(e){return this._isSpanEnded()||(this.name=e),this}end(e){var t,n;let r,i;this._isSpanEnded()?n$.error(`${this.name} ${this._spanContext.traceId}-${this._spanContext.spanId} - You can only call end() on a span once.`):(this._ended=!0,this.endTime=this._getTime(e),this._duration=(t=this.startTime,r=(n=this.endTime)[0]-t[0],(i=n[1]-t[1])<0&&(r-=1,i+=1e9),[r,i]),this._duration[0]<0&&(n$.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._droppedEventsCount>0&&n$.warn(`Dropped ${this._droppedEventsCount} events because eventCountLimit reached`),this._spanProcessor.onEnd(this))}_getTime(e){if("number"==typeof e&&e<=Date.now()){var t;return t=e+this._performanceOffset,rs(rn(0),rn("number"==typeof t?t:Date.now()))}if("number"==typeof e)return rn(e);if(e instanceof Date)return rn(e.getTime());if(rr(e))return e;if(this._startTimeProvided)return rn(Date.now());let n=Date.now()-this._performanceStartTime;return rs(this.startTime,rn(n))}isRecording(){return!1===this._ended}recordException(e,t){let n={};"string"==typeof e?n[n6]=e:e&&(e.code?n[n8]=e.code.toString():e.name&&(n[n8]=e.name),e.message&&(n[n6]=e.message),e.stack&&(n["exception.stacktrace"]=e.stack)),n[n8]||n[n6]?this.addEvent("exception",n,t):n$.warn(`Failed to record an exception ${e}`)}get duration(){return this._duration}get ended(){return this._ended}get droppedAttributesCount(){return this._droppedAttributesCount}get droppedEventsCount(){return this._droppedEventsCount}get droppedLinksCount(){return this._droppedLinksCount}_isSpanEnded(){if(this._ended){let e=Error(`Operation attempted on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`);n$.warn(`Cannot execute the operation on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`,e)}return this._ended}_truncateToLimitUtil(e,t){return e.length<=t?e:e.substring(0,t)}_truncateToSize(e){let t=this._attributeValueLengthLimit;return t<=0?(n$.warn(`Attribute value limit must be positive, got ${t}`),e):"string"==typeof e?this._truncateToLimitUtil(e,t):Array.isArray(e)?e.map(e=>"string"==typeof e?this._truncateToLimitUtil(e,t):e):e}}(v=d||(d={}))[v.NOT_RECORD=0]="NOT_RECORD",v[v.RECORD=1]="RECORD",v[v.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED";class rC{shouldSample(){return{decision:d.NOT_RECORD}}toString(){return"AlwaysOffSampler"}}class rN{shouldSample(){return{decision:d.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}}class rL{constructor(e){this._root=e.root,this._root||(n2(Error("ParentBasedSampler must have a root sampler configured")),this._root=new rN),this._remoteParentSampled=e.remoteParentSampled??new rN,this._remoteParentNotSampled=e.remoteParentNotSampled??new rC,this._localParentSampled=e.localParentSampled??new rN,this._localParentNotSampled=e.localParentNotSampled??new rC}shouldSample(e,t,n,r,i,s){let a=ti.getSpanContext(e);return a&&e3(a)?a.isRemote?a.traceFlags&o.SAMPLED?this._remoteParentSampled.shouldSample(e,t,n,r,i,s):this._remoteParentNotSampled.shouldSample(e,t,n,r,i,s):a.traceFlags&o.SAMPLED?this._localParentSampled.shouldSample(e,t,n,r,i,s):this._localParentNotSampled.shouldSample(e,t,n,r,i,s):this._root.shouldSample(e,t,n,r,i,s)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}}class rD{constructor(e=0){this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(0xffffffff*this._ratio)}shouldSample(e,t){return{decision:e4(t)&&this._accumulate(t)<this._upperBound?d.RECORD_AND_SAMPLED:d.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(e){return"number"!=typeof e||isNaN(e)?0:e>=1?1:e<=0?0:e}_accumulate(e){let t=0;for(let n=0;n<e.length/8;n++){let r=8*n;t=(t^parseInt(e.slice(r,r+8),16))>>>0}return t}}function rP(){return{sampler:rw(),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:n5("OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT")??1/0,attributeCountLimit:n5("OTEL_ATTRIBUTE_COUNT_LIMIT")??128},spanLimits:{attributeValueLengthLimit:n5("OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT")??1/0,attributeCountLimit:n5("OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT")??128,linkCountLimit:n5("OTEL_SPAN_LINK_COUNT_LIMIT")??128,eventCountLimit:n5("OTEL_SPAN_EVENT_COUNT_LIMIT")??128,attributePerEventCountLimit:n5("OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT")??128,attributePerLinkCountLimit:n5("OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT")??128}}}function rw(){let e=function(e){let t=process.env[e];if(null!=t&&""!==t.trim())return t}("OTEL_TRACES_SAMPLER")??_.ParentBasedAlwaysOn;switch(e){case _.AlwaysOn:return new rN;case _.AlwaysOff:return new rC;case _.ParentBasedAlwaysOn:return new rL({root:new rN});case _.ParentBasedAlwaysOff:return new rL({root:new rC});case _.TraceIdRatio:return new rD(rU());case _.ParentBasedTraceIdRatio:return new rL({root:new rD(rU())});default:return n$.error(`OTEL_TRACES_SAMPLER value "${e}" invalid, defaulting to "${_.ParentBasedAlwaysOn}".`),new rL({root:new rN})}}function rU(){let e=n5("OTEL_TRACES_SAMPLER_ARG");return null==e?(n$.error("OTEL_TRACES_SAMPLER_ARG is blank, defaulting to 1."),1):e<0||e>1?(n$.error(`OTEL_TRACES_SAMPLER_ARG=${e} was given, but it is out of range ([0..1]), defaulting to 1.`),1):e}(y=_||(_={})).AlwaysOff="always_off",y.AlwaysOn="always_on",y.ParentBasedAlwaysOff="parentbased_always_off",y.ParentBasedAlwaysOn="parentbased_always_on",y.ParentBasedTraceIdRatio="parentbased_traceidratio",y.TraceIdRatio="traceidratio";let rM=1/0;class rx{constructor(){rx.prototype.__init.call(this),rx.prototype.__init2.call(this)}__init(){this.generateTraceId=rk(16)}__init2(){this.generateSpanId=rk(8)}}let rB=tL.Buffer.allocUnsafe(16);function rk(e){return function(){for(let t=0;t<e/4;t++)rB.writeUInt32BE(0x100000000*Math.random()>>>0,4*t);for(let t=0;t<e;t++)if(rB[t]>0)break;else t===e-1&&(rB[e-1]=1);return rB.toString("hex",0,e)}}class rF{constructor(e,t,n,r){const i=function(e){let t={sampler:rw()},n=rP(),r=Object.assign({},n,t,e);return r.generalLimits=Object.assign({},n.generalLimits,e.generalLimits||{}),r.spanLimits=Object.assign({},n.spanLimits,e.spanLimits||{}),r}(t);this._sampler=i.sampler,this._generalLimits=i.generalLimits,this._spanLimits=i.spanLimits,this._idGenerator=t.idGenerator||new rx,this._resource=n,this._spanProcessor=r,this.instrumentationScope=e}startSpan(e,t={},n=K.active()){let r,i,s;t.root&&(n=ti.deleteSpan(n));let a=ti.getSpan(n);if(nq(n))return n$.debug("Instrumentation suppressed, returning Noop Span"),ti.wrapSpanContext(eW);let c=a?.spanContext(),l=this._idGenerator.generateSpanId();c&&ti.isSpanContextValid(c)?(i=c.traceId,s=c.traceState,r=c):i=this._idGenerator.generateTraceId();let d=t.kind??u.INTERNAL,_=(t.links??[]).map(e=>({context:e.context,attributes:nQ(e.attributes)})),f=nQ(t.attributes),h=this._sampler.shouldSample(n,i,e,d,f,_);s=h.traceState??s;let g={traceId:i,spanId:l,traceFlags:h.decision===p.RECORD_AND_SAMPLED?o.SAMPLED:o.NONE,traceState:s};if(h.decision===p.NOT_RECORD)return n$.debug("Recording is off, propagating context in a non-recording span"),ti.wrapSpanContext(g);let m=nQ(Object.assign(f,h.attributes));return new rO({resource:this._resource,scope:this.instrumentationScope,context:n,spanContext:g,name:e,kind:d,links:_,parentSpanContext:r,attributes:m,startTime:t.startTime,spanProcessor:this._spanProcessor,spanLimits:this._spanLimits})}startActiveSpan(e,t,n,r){let i,s,a;if(arguments.length<2)return;2==arguments.length?a=t:3==arguments.length?(i=t,a=n):(i=t,s=n,a=r);let o=s??K.active(),u=this.startSpan(e,i,o),c=ti.setSpan(o,u);return K.with(c,a,void 0,u)}getGeneralLimits(){return this._generalLimits}getSpanLimits(){return this._spanLimits}}class r${constructor(e){this._spanProcessors=e}forceFlush(){let e=[];for(let t of this._spanProcessors)e.push(t.forceFlush());return new Promise(t=>{Promise.all(e).then(()=>{t()}).catch(e=>{n2(e||Error("MultiSpanProcessor: forceFlush failed")),t()})})}onStart(e,t){for(let n of this._spanProcessors)n.onStart(e,t)}onEnd(e){for(let t of this._spanProcessors)t.onEnd(e)}shutdown(){let e=[];for(let t of this._spanProcessors)e.push(t.shutdown());return new Promise((t,n)=>{Promise.all(e).then(()=>{t()},n)})}}(I=f||(f={}))[I.resolved=0]="resolved",I[I.timeout=1]="timeout",I[I.error=2]="error",I[I.unresolved=3]="unresolved";class rG{__init(){this._tracers=new Map}constructor(e={}){rG.prototype.__init.call(this);const t=function(...e){let t=e.shift(),n=new WeakMap;for(;e.length>0;)t=function e(t,n,r=0,i){let s;if(!(r>20)){if(r++,rb(t)||rb(n)||rR(n))s=rv(n);else if(rI(t)){if(s=t.slice(),rI(n))for(let e=0,t=n.length;e<t;e++)s.push(rv(n[e]));else if(rA(n)){let e=Object.keys(n);for(let t=0,r=e.length;t<r;t++){let r=e[t];s[r]=rv(n[r])}}}else if(rA(t))if(rA(n)){var a,o;if(a=t,o=n,!(rT(a)&&rT(o)))return n;s=Object.assign({},t);let u=Object.keys(n);for(let a=0,o=u.length;a<o;a++){let o=u[a],c=n[o];if(rb(c))void 0===c?delete s[o]:s[o]=c;else{let a=s[o];if(ry(t,o,i)||ry(n,o,i))delete s[o];else{if(rA(a)&&rA(c)){let e=i.get(a)||[],r=i.get(c)||[];e.push({obj:t,key:o}),r.push({obj:n,key:o}),i.set(a,e),i.set(c,r)}s[o]=e(s[o],c,r,i)}}}}else s=n;return s}}(t,e.shift(),0,n);return t}({},rP(),function(e){let t=Object.assign({},e.spanLimits);return t.attributeCountLimit=e.spanLimits?.attributeCountLimit??e.generalLimits?.attributeCountLimit??n5("OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT")??n5("OTEL_ATTRIBUTE_COUNT_LIMIT")??128,t.attributeValueLengthLimit=e.spanLimits?.attributeValueLengthLimit??e.generalLimits?.attributeValueLengthLimit??n5("OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT")??n5("OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT")??rM,Object.assign({},e,{spanLimits:t})}(e));this._resource=t.resource??nH(),this._config=Object.assign({},t,{resource:this._resource});const n=[];e.spanProcessors?.length&&n.push(...e.spanProcessors),this._activeSpanProcessor=new r$(n)}getTracer(e,t,n){let r=`${e}@${t||""}:${n?.schemaUrl||""}`;return this._tracers.has(r)||this._tracers.set(r,new rF({name:e,version:t,schemaUrl:n?.schemaUrl},this._config,this._resource,this._activeSpanProcessor)),this._tracers.get(r)}forceFlush(){let e=this._config.forceFlushTimeoutMillis,t=this._activeSpanProcessor._spanProcessors.map(t=>new Promise(n=>{let r,i=setTimeout(()=>{n(Error(`Span processor did not completed within timeout period of ${e} ms`)),r=f.timeout},e);t.forceFlush().then(()=>{clearTimeout(i),r!==f.timeout&&n(r=f.resolved)}).catch(e=>{clearTimeout(i),r=f.error,n(e)})}));return new Promise((e,n)=>{Promise.all(t).then(t=>{let r=t.filter(e=>e!==f.resolved);r.length>0?n(r):e()}).catch(e=>n([e]))})}shutdown(){return this._activeSpanProcessor.shutdown()}}let rj="sentry.parentIsRemote";function rY(e){return"parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?e.parentSpanContext?.spanId:void 0}function rV(e){return!!e.attributes&&"object"==typeof e.attributes}let rH="sentry-trace",rz="baggage",rW="sentry.dsc",rJ="sentry.sampled_not_recording",rK="sentry.url",rq=s("sentry_scopes"),rX=s("sentry_fork_isolation_scope"),rZ=s("sentry_fork_set_scope"),rQ=s("sentry_fork_set_isolation_scope"),r0="_scopeContext";function r1(e){return e.getValue(rq)}function r2(e,t){return e.setValue(rq,t)}function r5(e){let{traceFlags:t,traceState:n}=e,r=!!n&&"1"===n.get(rJ);if(t===o.SAMPLED)return!0;if(r)return!1;let i=n?n.get(rW):void 0,s=i?(0,eN.baggageHeaderToDynamicSamplingContext)(i):void 0;return s?.sampled==="true"||s?.sampled!=="false"&&void 0}function r4(e,t,n){let r=t[n7]||t[n4];if(r)return function({name:e,kind:t,attributes:n},r){var i,s;let a,o,c,l,p,d,_,f=["http"];switch(t){case u.CLIENT:f.push("client");break;case u.SERVER:f.push("server")}n["sentry.http.prefetch"]&&f.push("prefetch");let{urlPath:h,url:g,query:m,fragment:S,hasRoute:E}=(i=n,s=t,a=i["http.target"],o=i[n3]||i[rt],c=i["http.route"],p=(l="string"==typeof o?eT(o):void 0)?ey(l):void 0,d=l?.search||void 0,_=l?.hash||void 0,"string"==typeof c?{urlPath:c,url:p,query:d,fragment:_,hasRoute:!0}:s===u.SERVER&&"string"==typeof a?{urlPath:ev(a),url:p,query:d,fragment:_,hasRoute:!1}:l?{urlPath:p,url:p,query:d,fragment:_,hasRoute:!1}:"string"==typeof a?{urlPath:ev(a),url:p,query:d,fragment:_,hasRoute:!1}:{urlPath:void 0,url:p,query:d,fragment:_,hasRoute:!1});if(!h)return{...r9(e,n),op:f.join(".")};let T=n["sentry.graphql.operation"],v=`${r} ${h}`,y=T?`${v} (${function(e){if(Array.isArray(e)){let t=e.slice().sort();return t.length<=5?t.join(", "):`${t.slice(0,5).join(", ")}, +${t.length-5}`}return`${e}`}(T)})`:v,I={};g&&(I.url=g),m&&(I["http.query"]=m),S&&(I["http.fragment"]=S);let R=t===u.CLIENT||t===u.SERVER,A=n[eh.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]||"manual",b=!`${A}`.startsWith("auto"),O="custom"===n[eh.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE],C=n[eh.SEMANTIC_ATTRIBUTE_SENTRY_CUSTOM_SPAN_NAME],{description:N,source:L}=O||null!=C||!R&&b?r9(e,n):{description:y,source:E||"/"===h?"route":"url"};return{op:f.join("."),description:N,source:L,data:I}}({attributes:t,name:e,kind:n},r);let i=t["db.system"],s="string"==typeof t[eh.SEMANTIC_ATTRIBUTE_SENTRY_OP]&&t[eh.SEMANTIC_ATTRIBUTE_SENTRY_OP].startsWith("cache.");if(i&&!s)return function({attributes:e,name:t}){let n=e[eh.SEMANTIC_ATTRIBUTE_SENTRY_CUSTOM_SPAN_NAME];if("string"==typeof n)return{op:"db",description:n,source:e[eh.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]||"custom"};if("custom"===e[eh.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE])return{op:"db",description:t,source:"custom"};let r=e["db.statement"];return{op:"db",description:r?r.toString():t,source:"task"}}({attributes:t,name:e});let a="custom"===t[eh.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]?"custom":"route";if(t["rpc.service"])return{...r9(e,t,"route"),op:"rpc"};if(t["messaging.system"])return{...r9(e,t,a),op:"message"};let o=t["faas.trigger"];return o?{...r9(e,t,a),op:o.toString()}:{op:void 0,description:e,source:"custom"}}function r3(e){let t=rV(e)?e.attributes:{};return r4(e.name?e.name:"<unknown>",t,"number"==typeof e.kind?e.kind:u.INTERNAL)}function r9(e,t,n="custom"){let r=t[eh.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]||n,i=t[eh.SEMANTIC_ATTRIBUTE_SENTRY_CUSTOM_SPAN_NAME];return i&&"string"==typeof i?{description:i,source:r}:{description:e,source:r}}function r6(){return ti.getActiveSpan()}let r8="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function r7({dsc:e,sampled:t}){let n=e?(0,eN.dynamicSamplingContextToSentryBaggageHeader)(e):void 0,r=new rd,i=n?r.set(rW,n):r;return!1===t?i.set(rJ,"1"):i}let ie=new Set;function it(e){ie.add(e)}class ir extends nZ{constructor(){super(),it("SentryPropagator"),this._urlMatchesTargetsMap=new eD(100)}inject(e,t,n){if(nq(e)){r8&&Z.debug.log("[Tracing] Not injecting trace data for url because tracing is suppressed.");return}let r=ti.getSpan(e),i=r&&function(e){let t=(0,ec.spanToJSON)(e).data,n=t[n3]||t[rt];if("string"==typeof n)return n;let r=e.spanContext().traceState?.get(rK);if(r)return r}(r);if(!function(e,t,n){if("string"!=typeof e||!t)return!0;let r=n?.get(e);if(void 0!==r)return r8&&!r&&Z.debug.log(ii,e),r;let i=(0,ew.stringMatchesSomePattern)(e,t);return n?.set(e,i),r8&&!i&&Z.debug.log(ii,e),i}(i,(0,em.getClient)()?.getOptions()?.tracePropagationTargets,this._urlMatchesTargetsMap)){r8&&Z.debug.log("[Tracing] Not injecting trace data for url because it does not match tracePropagationTargets:",i);return}let s=function(e){try{let t=e[rz];return Array.isArray(t)?t.join(","):t}catch{return}}(t),a=tv.getBaggage(e)||tv.createBaggage({}),{dynamicSamplingContext:o,traceId:u,spanId:c,sampled:l}=is(e);if(s){let e=(0,eN.parseBaggageHeader)(s);e&&Object.entries(e).forEach(([e,t])=>{a=a.setEntry(e,{value:t})})}o&&(a=Object.entries(o).reduce((e,[t,n])=>n?e.setEntry(`${eN.SENTRY_BAGGAGE_KEY_PREFIX}${t}`,{value:n}):e,a)),u&&u!==ez&&n.set(t,rH,(0,eP.generateSentryTraceHeader)(u,c,l)),super.inject(tv.setBaggage(e,a),t,n)}extract(e,t,n){let r=n.get(t,rH),i=n.get(t,rz);return io(ia(e,{sentryTrace:r?Array.isArray(r)?r[0]:r:void 0,baggage:i}))}fields(){return[rH,rz]}}let ii="[Tracing] Not injecting trace data for url because it does not match tracePropagationTargets:";function is(e,t={}){let n=ti.getSpan(e);if(n?.spanContext().isRemote){let e=n.spanContext();return{dynamicSamplingContext:(0,eU.getDynamicSamplingContextFromSpan)(n),traceId:e.traceId,spanId:void 0,sampled:r5(e)}}if(n){let e=n.spanContext();return{dynamicSamplingContext:(0,eU.getDynamicSamplingContextFromSpan)(n),traceId:e.traceId,spanId:e.spanId,sampled:r5(e)}}let r=t.scope||r1(e)?.scope||(0,em.getCurrentScope)(),i=t.client||(0,em.getClient)(),s=r.getPropagationContext();return{dynamicSamplingContext:i?(0,eU.getDynamicSamplingContextFromScope)(i,r):void 0,traceId:s.traceId,spanId:s.propagationSpanId,sampled:s.sampled}}function ia(e,{sentryTrace:t,baggage:n}){let{traceId:r,parentSpanId:i,sampled:s,dsc:a}=(0,eP.propagationContextFromHeaders)(t,n),u=(0,em.getClient)(),c=(0,eN.baggageHeaderToDynamicSamplingContext)(n);if(!i||u&&!(0,eP.shouldContinueTrace)(u,c?.org_id))return e;let l=function({spanId:e,traceId:t,sampled:n,dsc:r}){let i=r7({dsc:r,sampled:n});return{traceId:t,spanId:e,isRemote:!0,traceFlags:n?o.SAMPLED:o.NONE,traceState:i}}({traceId:r,spanId:i,sampled:s,dsc:a});return ti.setSpanContext(e,l)}function io(e){let t=r1(e);return r2(e,{scope:t?t.scope:(0,em.getCurrentScope)().clone(),isolationScope:t?t.isolationScope:(0,em.getIsolationScope)()})}function iu(e,t){let n=id(),{name:r,parentSpan:i}=e;return im(i)(()=>{let i=ih(e.scope,e.forceTransaction),s=e.onlyIfParent&&!ti.getSpan(i)?nK(i):i,a=i_(e);return n.startActiveSpan(r,a,s,e=>ex(()=>t(e),()=>{void 0===(0,ec.spanToJSON)(e).status&&e.setStatus({code:c.ERROR})},()=>e.end()))})}function ic(e,t){let n=id(),{name:r,parentSpan:i}=e;return im(i)(()=>{let i=ih(e.scope,e.forceTransaction),s=e.onlyIfParent&&!ti.getSpan(i)?nK(i):i,a=i_(e);return n.startActiveSpan(r,a,s,e=>ex(()=>t(e,()=>e.end()),()=>{void 0===(0,ec.spanToJSON)(e).status&&e.setStatus({code:c.ERROR})}))})}function il(e){let t=id(),{name:n,parentSpan:r}=e;return im(r)(()=>{let r=ih(e.scope,e.forceTransaction),i=e.onlyIfParent&&!ti.getSpan(r)?nK(r):r,s=i_(e);return t.startSpan(n,s,i)})}function ip(e,t){let n=e?ti.setSpan(K.active(),e):ti.deleteSpan(K.active());return K.with(n,()=>t((0,em.getCurrentScope)()))}function id(){let e=(0,em.getClient)();return e?.tracer||ti.getTracer("@sentry/opentelemetry",e_.SDK_VERSION)}function i_(e){var t;let{startTime:n,attributes:r,kind:i,op:s,links:a}=e,o="number"==typeof n?(t=n)<0x2540be3ff?1e3*t:t:n;return{attributes:s?{[eh.SEMANTIC_ATTRIBUTE_SENTRY_OP]:s,...r}:r,kind:i,links:a,startTime:o}}function ih(e,t){let n=function(e){if(e){let t=e[r0];if(t)return t}return K.active()}(e),r=ti.getSpan(n);if(!r||!t)return n;let i=ti.deleteSpan(n),{spanId:s,traceId:a}=r.spanContext(),u=r5(r.spanContext()),c=(0,ec.getRootSpan)(r),l=r7({dsc:(0,eU.getDynamicSamplingContextFromSpan)(c),sampled:u}),p={traceId:a,spanId:s,isRemote:!0,traceFlags:u?o.SAMPLED:o.NONE,traceState:l};return ti.setSpanContext(i,p)}function ig(e,t){var n;let r;return n=K.active(),r=io(ia(n,e)),K.with(r,t)}function im(e){return void 0!==e?t=>ip(e,t):e=>e()}function iS(e){let t=nK(K.active());return K.with(t,e)}function iE({span:e,scope:t,client:n}={}){let r=(t&&t[r0])??K.active();if(e){let{scope:t}=(0,eg.getCapturedScopesOnSpan)(e);r=t&&t[r0]||ti.setSpan(K.active(),e)}let{traceId:i,spanId:s,sampled:a,dynamicSamplingContext:o}=is(r,{scope:t,client:n});return{"sentry-trace":(0,eP.generateSentryTraceHeader)(i,s,a),baggage:(0,eN.dynamicSamplingContextToSentryBaggageHeader)(o)}}function iT(e){return!0===e.attributes[rj]?void 0:rY(e)}function iv(e,t){let n=e.get(t.id);return n?.span?n:n&&!n.span?(n.span=t.span,n.parentNode=t.parentNode,n):(e.set(t.id,t),t)}let iy={1:"cancelled",2:"unknown_error",3:"invalid_argument",4:"deadline_exceeded",5:"not_found",6:"already_exists",7:"permission_denied",8:"resource_exhausted",9:"failed_precondition",10:"aborted",11:"out_of_range",12:"unimplemented",13:"internal_error",14:"unavailable",15:"data_loss",16:"unauthenticated"};function iI(e){let t=rV(e)?e.attributes:{},n=e.status?e.status:void 0;if(n){if(n.code===c.OK)return{code:el.SPAN_STATUS_OK};else if(n.code===c.ERROR){let e;if(void 0===n.message){let e=iR(t);if(e)return e}return n.message&&(e=n.message,Object.values(iy).includes(e))?{code:el.SPAN_STATUS_ERROR,message:n.message}:{code:el.SPAN_STATUS_ERROR,message:"unknown_error"}}}let r=iR(t);return r||(n?.code===c.UNSET?{code:el.SPAN_STATUS_OK}:{code:el.SPAN_STATUS_ERROR,message:"unknown_error"})}function iR(e){let t=e[re]||e[n9],n=e["rpc.grpc.status_code"],r="number"==typeof t?t:"string"==typeof t?parseInt(t):void 0;return"number"==typeof r?(0,el.getSpanStatusFromHttpCode)(r):"string"==typeof n?{code:el.SPAN_STATUS_ERROR,message:iy[n]||"unknown_error"}:void 0}class iA{constructor(e){this._finishedSpanBucketSize=e?.timeout||300,this._finishedSpanBuckets=Array(this._finishedSpanBucketSize).fill(void 0),this._lastCleanupTimestampInS=Math.floor(Date.now()/1e3),this._spansToBucketEntry=new WeakMap,this._sentSpans=new Map,this._debouncedFlush=function(e,t,n){let r,i,s,a=n?.maxWait?Math.max(n.maxWait,1):0,o=n?.setTimeoutImpl||setTimeout;function u(){return c(),r=e()}function c(){void 0!==i&&clearTimeout(i),void 0!==s&&clearTimeout(s),i=s=void 0}function l(){return i&&clearTimeout(i),i=o(u,1),a&&void 0===s&&(s=o(u,a)),r}return l.cancel=c,l.flush=function(){return void 0!==i||void 0!==s?u():r},l}(this.flush.bind(this),0,{maxWait:100})}export(e){let t=Math.floor(Date.now()/1e3);if(this._lastCleanupTimestampInS!==t){let e=0;this._finishedSpanBuckets.forEach((n,r)=>{n&&n.timestampInS<=t-this._finishedSpanBucketSize&&(e+=n.spans.size,this._finishedSpanBuckets[r]=void 0)}),e>0&&r8&&Z.debug.log(`SpanExporter dropped ${e} spans because they were pending for more than ${this._finishedSpanBucketSize} seconds.`),this._lastCleanupTimestampInS=t}let n=t%this._finishedSpanBucketSize,r=this._finishedSpanBuckets[n]||{timestampInS:t,spans:new Set};this._finishedSpanBuckets[n]=r,r.spans.add(e),this._spansToBucketEntry.set(e,r);let i=iT(e);(!i||this._sentSpans.has(i))&&this._debouncedFlush()}flush(){let e=this._finishedSpanBuckets.flatMap(e=>e?Array.from(e.spans):[]);this._flushSentSpanCache();let t=this._maybeSend(e),n=t.size,r=e.length-n;r8&&Z.debug.log(`SpanExporter exported ${n} spans, ${r} spans are waiting for their parent spans to finish`);let i=Date.now()+3e5;for(let e of t){this._sentSpans.set(e.spanContext().spanId,i);let t=this._spansToBucketEntry.get(e);t&&t.spans.delete(e)}this._debouncedFlush.cancel()}clear(){this._finishedSpanBuckets=this._finishedSpanBuckets.fill(void 0),this._sentSpans.clear(),this._debouncedFlush.cancel()}_maybeSend(e){let t=function(e){let t=new Map;for(let n of e)!function(e,t){let n=t.spanContext().spanId,r=iT(t);if(!r)return iv(e,{id:n,span:t,children:[]});let i=function(e,t){let n=e.get(t);return n||iv(e,{id:t,children:[]})}(e,r),s=iv(e,{id:n,span:t,parentNode:i,children:[]});i.children.push(s)}(t,n);return Array.from(t,function([e,t]){return t})}(e),n=new Set;for(let e of this._getCompletedRootNodes(t)){let t=e.span;n.add(t);let r=function(e){let{op:t,description:n,data:r,origin:i="manual",source:s}=ib(e),a=(0,eg.getCapturedScopesOnSpan)(e),o=e.attributes[eh.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE],u={[eh.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:s,[eh.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE]:o,[eh.SEMANTIC_ATTRIBUTE_SENTRY_OP]:t,[eh.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:i,...r,...iO(e.attributes)},{links:c}=e,{traceId:l,spanId:p}=e.spanContext(),d=rY(e),_=iI(e),f={parent_span_id:d,span_id:p,trace_id:l,data:u,origin:i,op:t,status:(0,ec.getStatusMessage)(_),links:(0,ec.convertSpanLinksForEnvelope)(c)},h=u[re];return{contexts:{trace:f,otel:{resource:e.resource.attributes},..."number"==typeof h?{response:{status_code:h}}:void 0},spans:[],start_timestamp:(0,ec.spanTimeInputToSeconds)(e.startTime),timestamp:(0,ec.spanTimeInputToSeconds)(e.endTime),transaction:n,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:a.scope,capturedSpanIsolationScope:a.isolationScope,sampleRate:o,dynamicSamplingContext:(0,eU.getDynamicSamplingContextFromSpan)(e)},...s&&{transaction_info:{source:s}}}}(t);if(e.parentNode&&this._sentSpans.has(e.parentNode.id)){let e=r.contexts?.trace?.data;e&&(e["sentry.parent_span_already_sent"]=!0)}let i=r.spans||[];for(let t of e.children)!function e(t,n,r){let i=t.span;if(i&&r.add(i),!i)return void t.children.forEach(t=>{e(t,n,r)});let s=i.spanContext().spanId,a=i.spanContext().traceId,o=rY(i),{attributes:u,startTime:c,endTime:l,links:p}=i,{op:d,description:_,data:f,origin:h="manual"}=ib(i),g={[eh.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:h,[eh.SEMANTIC_ATTRIBUTE_SENTRY_OP]:d,...iO(u),...f},m=iI(i),S={span_id:s,trace_id:a,data:g,description:_,parent_span_id:o,start_timestamp:(0,ec.spanTimeInputToSeconds)(c),timestamp:(0,ec.spanTimeInputToSeconds)(l)||void 0,status:(0,ec.getStatusMessage)(m),op:d,origin:h,measurements:eF(i.events),links:(0,ec.convertSpanLinksForEnvelope)(p)};n.push(S),t.children.forEach(t=>{e(t,n,r)})}(t,i,n);r.spans=i.length>1e3?i.sort((e,t)=>e.start_timestamp-t.start_timestamp).slice(0,1e3):i;let s=eF(t.events);s&&(r.measurements=s),(0,e$.captureEvent)(r)}return n}_flushSentSpanCache(){let e=Date.now();for(let[t,n]of this._sentSpans.entries())n<=e&&this._sentSpans.delete(t)}_nodeIsCompletedRootNodeOrHasSentParent(e){return!!e.span&&(!e.parentNode||this._sentSpans.has(e.parentNode.id))}_getCompletedRootNodes(e){return e.filter(e=>this._nodeIsCompletedRootNodeOrHasSentParent(e))}}function ib(e){var t;let n,r,i,s,a,o,{op:c,source:l,origin:p}=(o=(a=e.attributes)[eh.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN],{origin:o,op:a[eh.SEMANTIC_ATTRIBUTE_SENTRY_OP],source:a[eh.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]}),{op:d,description:_,source:f,data:h}=r3(e);return{op:c||d,description:_,source:l||f,origin:p,data:{...h,...(n=(t=e).attributes,r={},t.kind!==u.INTERNAL&&(r["otel.kind"]=u[t.kind]),(i=n[n9])&&(r[re]=i),(s=function(e){if(!rV(e))return{};let t=e.attributes[rt]||e.attributes[n3],n={url:t,"http.method":e.attributes[n7]||e.attributes[n4]};!n["http.method"]&&n.url&&(n["http.method"]="GET");try{if("string"==typeof t){let e=eT(t);n.url=ey(e),e.search&&(n["http.query"]=e.search),e.hash&&(n["http.fragment"]=e.hash)}}catch{}return n}(t)).url&&(r.url=s.url),s["http.query"]&&(r["http.query"]=s["http.query"].slice(1)),s["http.fragment"]&&(r["http.fragment"]=s["http.fragment"].slice(1)),r)}}}function iO(e){let t={...e};return delete t[eh.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE],delete t[rj],delete t[eh.SEMANTIC_ATTRIBUTE_SENTRY_CUSTOM_SPAN_NAME],t}class iC{constructor(e){it("SentrySpanProcessor"),this._exporter=new iA(e)}async forceFlush(){this._exporter.flush()}async shutdown(){this._exporter.clear()}onStart(e,t){let n,r,i;n=ti.getSpan(t),r=r1(t),n&&!n.spanContext().isRemote&&(0,ec.addChildSpanToSpan)(n,e),n?.spanContext().isRemote&&e.setAttribute(rj,!0),t===A&&(r={scope:(0,ek.getDefaultCurrentScope)(),isolationScope:(0,ek.getDefaultIsolationScope)()}),r&&(0,eg.setCapturedScopesOnSpan)(e,r.scope,r.isolationScope),eG(e),i=(0,em.getClient)(),i?.emit("spanStart",e)}onEnd(e){let t;ej(e),t=(0,em.getClient)(),t?.emit("spanEnd",e),this._exporter.export(e)}}class iN{constructor(e){this._client=e,it("SentrySampler")}shouldSample(e,t,n,r,i,s){var a;let o,c=this._client.getOptions(),l=(a=e,(o=ti.getSpan(a))&&e3(o.spanContext())?o:void 0),p=l?.spanContext();if(!(0,eL.hasSpansEnabled)(c))return iL({decision:void 0,context:e,spanAttributes:i});let _=i[n4]||i[n7];if(r===u.CLIENT&&_&&(!l||p?.isRemote))return iL({decision:void 0,context:e,spanAttributes:i});let f=l?function(e,t,n){let r=e.spanContext();if(e3(r)&&r.traceId===t){if(r.isRemote){let t=r5(e.spanContext());return r8&&Z.debug.log(`[Tracing] Inheriting remote parent's sampled decision for ${n}: ${t}`),t}let t=r5(r);return r8&&Z.debug.log(`[Tracing] Inheriting parent's sampled decision for ${n}: ${t}`),t}}(l,t,n):void 0;if(!(!l||p?.isRemote))return iL({decision:f?d.RECORD_AND_SAMPLED:d.NOT_RECORD,context:e,spanAttributes:i});let{description:h,data:g,op:m}=r4(n,i,r),S={...g,...i};m&&(S[eh.SEMANTIC_ATTRIBUTE_SENTRY_OP]=m);let E={decision:!0};if(this._client.emit("beforeSampling",{spanAttributes:S,spanName:h,parentSampled:f,parentContext:p},E),!E.decision)return iL({decision:void 0,context:e,spanAttributes:i});let{isolationScope:T}=r1(e)??{},v=p?.traceState?p.traceState.get(rW):void 0,y=v?(0,eN.baggageHeaderToDynamicSamplingContext)(v):void 0,I=(0,eY.parseSampleRate)(y?.sample_rand)??Math.random(),[R,A,b]=eV(c,{name:h,attributes:S,normalizedRequest:T?.getScopeData().sdkProcessingMetadata.normalizedRequest,parentSampled:f,parentSampleRate:(0,eY.parseSampleRate)(y?.sample_rate)},I),O=`${_}`.toUpperCase();return"OPTIONS"===O||"HEAD"===O?(r8&&Z.debug.log(`[Tracing] Not sampling span because HTTP method is '${O}' for ${n}`),iL({decision:d.NOT_RECORD,context:e,spanAttributes:i,sampleRand:I,downstreamTraceSampleRate:0})):(R||void 0!==f||(r8&&Z.debug.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),this._client.recordDroppedEvent("sample_rate","transaction")),{...iL({decision:R?d.RECORD_AND_SAMPLED:d.NOT_RECORD,context:e,spanAttributes:i,sampleRand:I,downstreamTraceSampleRate:b?A:void 0}),attributes:{[eh.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE]:b?A:void 0}})}toString(){return"SentrySampler"}}function iL({decision:e,context:t,spanAttributes:n,sampleRand:r,downstreamTraceSampleRate:i}){var s,a;let o,u,c,l,p=(s=t,a=n,o=ti.getSpan(s),u=o?.spanContext(),c=u?.traceState||new rd,(l=a[n3]||a[rt])&&"string"==typeof l&&(c=c.set(rK,l)),c);return(void 0!==i&&(p=p.set("sentry.sample_rate",`${i}`)),void 0!==r&&(p=p.set("sentry.sample_rand",`${r}`)),void 0==e)?{decision:d.NOT_RECORD,traceState:p}:e===d.NOT_RECORD?{decision:e,traceState:p.set(rJ,"1")}:{decision:e,traceState:p}}let iD="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,iP=new WeakMap;class iw{constructor(e=30){this.$=[],this._taskProducers=[],this._bufferSize=e}add(e){return this._taskProducers.length>=this._bufferSize?Promise.reject(nA):(this._taskProducers.push(e),Promise.resolve({}))}drain(e){let t=[...this._taskProducers];return this._taskProducers=[],new Promise(n=>{let r=setTimeout(()=>{e&&e>0&&n(!1)},e);Promise.all(t.map(e=>e().then(null,()=>{}))).then(()=>{clearTimeout(r),n(!0)})})}}function iU(e){return function(e,t,n=function(e=100){let t=new Set;return{get $(){return Array.from(t)},add:function(n){if(!(t.size<e))return(0,t2.rejectedSyncPromise)(nA);let r=n();return t.add(r),r.then(()=>{t.delete(r)},()=>{t.delete(r)}),r},drain:function(e){if(!t.size)return(0,t2.resolvedSyncPromise)(!0);let n=Promise.allSettled(Array.from(t)).then(()=>!0);return e?Promise.race([n,new Promise(t=>setTimeout(()=>t(!1),e))]):n}}}(e.bufferSize||64)){let r={};return{send:function(i){let s=[];if(tM(i,(t,n)=>{let i=tB[n];!function(e,t,n=Date.now()){return(e[t]||e.all||0)>n}(r,i)?s.push(t):e.recordDroppedEvent("ratelimit_backoff",i)}),0===s.length)return Promise.resolve({});let a=tU(i[0],s),o=t=>{tM(a,(n,r)=>{e.recordDroppedEvent(t,tB[r])})};return n.add(()=>t({body:function(e){let[t,n]=e,r=JSON.stringify(t);function i(e){"string"==typeof r?r="string"==typeof e?r+e:[tx(r),e]:r.push("string"==typeof e?tx(e):e)}for(let e of n){let[t,n]=e;if(i(`
${JSON.stringify(t)}
`),"string"==typeof n||n instanceof Uint8Array)i(n);else{let e;try{e=JSON.stringify(n)}catch{e=JSON.stringify((0,tw.normalize)(n))}i(e)}}return"string"==typeof r?r:function(e){let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0)),n=0;for(let r of e)t.set(r,n),n+=r.length;return t}(r)}(a)}).then(e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&q.DEBUG_BUILD&&Z.debug.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),r=function(e,{statusCode:t,headers:n},r=Date.now()){let i={...e},s=n?.["x-sentry-rate-limits"],a=n?.["retry-after"];if(s)for(let e of s.trim().split(",")){let[t,n,,,s]=e.split(":",5),a=parseInt(t,10),o=(isNaN(a)?60:a)*1e3;if(n)for(let e of n.split(";"))"metric_bucket"===e?(!s||s.split(";").includes("custom"))&&(i[e]=r+o):i[e]=r+o;else i.all=r+o}else a?i.all=r+function(e,t=Date.now()){let n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;let r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}(a,r):429===t&&(i.all=r+6e4);return i}(r,e),e),e=>{throw o("network_error"),q.DEBUG_BUILD&&Z.debug.error("Encountered error running transport request:",e),e})).then(e=>e,e=>{if(e===nA)return q.DEBUG_BUILD&&Z.debug.error("Skipped sending event because buffer is full."),o("queue_overflow"),Promise.resolve({});throw e})},flush:e=>n.drain(e)}}(e,function(t){var n;let r,i={body:t.body,method:"POST",headers:e.headers,...e.fetchOptions};return n=()=>fetch(e.url,i).then(e=>({statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}})),(r=nv()).suppressTracing?r.suppressTracing(n):(0,em.withScope)(e=>{e.setSDKProcessingMetadata({[nT]:!0});let t=n();return e.setSDKProcessingMetadata({[nT]:void 0}),t})},new iw(e.bufferSize))}let iM=["addListener","on","once","prependListener","prependOnceListener"];class ix{constructor(){ix.prototype.__init.call(this),ix.prototype.__init2.call(this)}bind(e,t){return"object"==typeof t&&null!==t&&"on"in t?this._bindEventEmitter(e,t):"function"==typeof t?this._bindFunction(e,t):t}_bindFunction(e,t){let n=this,r=function(...r){return n.with(e,()=>t.apply(this,r))};return Object.defineProperty(r,"length",{enumerable:!1,configurable:!0,writable:!1,value:t.length}),r}_bindEventEmitter(e,t){return void 0!==this._getPatchMap(t)||(this._createPatchMap(t),iM.forEach(n=>{void 0!==t[n]&&(t[n]=this._patchAddListener(t,t[n],e))}),"function"==typeof t.removeListener&&(t.removeListener=this._patchRemoveListener(t,t.removeListener)),"function"==typeof t.off&&(t.off=this._patchRemoveListener(t,t.off)),"function"==typeof t.removeAllListeners&&(t.removeAllListeners=this._patchRemoveAllListeners(t,t.removeAllListeners))),t}_patchRemoveListener(e,t){let n=this;return function(r,i){let s=n._getPatchMap(e)?.[r];if(void 0===s)return t.call(this,r,i);let a=s.get(i);return t.call(this,r,a||i)}}_patchRemoveAllListeners(e,t){let n=this;return function(r){let i=n._getPatchMap(e);return void 0!==i&&(0==arguments.length?n._createPatchMap(e):void 0!==i[r]&&delete i[r]),t.apply(this,arguments)}}_patchAddListener(e,t,n){let r=this;return function(i,s){if(r._wrapped)return t.call(this,i,s);let a=r._getPatchMap(e);void 0===a&&(a=r._createPatchMap(e));let o=a[i];void 0===o&&(o=new WeakMap,a[i]=o);let u=r.bind(n,s);o.set(s,u),r._wrapped=!0;try{return t.call(this,i,u)}finally{r._wrapped=!1}}}_createPatchMap(e){let t=Object.create(null);return e[this._kOtListeners]=t,t}_getPatchMap(e){return e[this._kOtListeners]}__init(){this._kOtListeners=Symbol("OtListeners")}__init2(){this._wrapped=!1}}class iB extends ix{constructor(){super();const e=X.GLOBAL_OBJ.AsyncLocalStorage;e?this._asyncLocalStorage=new e:(iD&&Z.debug.warn("Tried to register AsyncLocalStorage async context strategy in a runtime that doesn't support AsyncLocalStorage."),this._asyncLocalStorage={getStore(){},run(e,t,...n){return t.apply(this,n)},disable(){}})}active(){return this._asyncLocalStorage.getStore()??A}with(e,t,n,...r){let i=null==n?t:t.bind(n);return this._asyncLocalStorage.run(e,i,...r)}enable(){return this}disable(){return this._asyncLocalStorage.disable(),this}}let ik=(0,Q.createStackParser)([90,(R=void 0,n=/^\s*[-]{4,}$/,r=/at (?:async )?(?:(.+?)\s+\()?(?:(.+):(\d+):(\d+)?|([^)]+))\)?/,i=/at (?:async )?(.+?) \(data:(.*?),/,e=>{let t=e.match(i);if(t)return{filename:`<data:${t[2]}>`,function:t[1]};let s=e.match(r);if(s){let e,t,n,r,i;if(s[1]){let i=(n=s[1]).lastIndexOf(".");if("."===n[i-1]&&i--,i>0){e=n.slice(0,i),t=n.slice(i+1);let r=e.indexOf(".Module");r>0&&(n=n.slice(r+1),e=e.slice(0,r))}r=void 0}t&&(r=e,i=t),"<anonymous>"===t&&(i=void 0,n=void 0),void 0===n&&(i=i||Q.UNKNOWN_FUNCTION,n=r?`${r}.${i}`:i);let a=s[2]?.startsWith("file://")?s[2].slice(7):s[2],o="native"===s[5];return a?.match(/\/[A-Z]:/)&&(a=a.slice(1)),a||!s[5]||o||(a=s[5]),{filename:a?decodeURI(a):void 0,module:R?R(a):void 0,function:n,lineno:nb(s[3]),colno:nb(s[4]),in_app:function(e,t=!1){return!(t||e&&!e.startsWith("/")&&!e.match(/^[A-Z]:/)&&!e.startsWith(".")&&!e.match(/^[a-zA-Z]([a-zA-Z0-9.\-+])*:\/\//))&&void 0!==e&&!e.includes("node_modules/")}(a||"",o)}}if(e.match(n))return{filename:e}})]);function iF(e){let n;return[{name:"Dedupe",processEvent(e){if(e.type)return e;try{var t,r,i,s,a,o;let u,c,l,p;if(t=e,(r=n)&&(i=t,s=r,u=i.message,c=s.message,(u||c)&&(!u||c)&&(u||!c)&&u===c&&nC(i,s)&&nO(i,s)&&1||(a=t,o=r,l=nN(o),p=nN(a),l&&p&&l.type===p.type&&l.value===p.value&&nC(a,o)&&nO(a,o))))return q.DEBUG_BUILD&&Z.debug.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return n=e}},((e={})=>({...((e={})=>{let t;return{name:"EventFilters",setup(n){t=nD(e,n.getOptions())},processEvent:(n,r,i)=>(t||(t=nD(e,i.getOptions())),!function(e,t){if(e.type){if("transaction"===e.type&&function(e,t){if(!t?.length)return!1;let n=e.transaction;return!!n&&(0,ew.stringMatchesSomePattern)(n,t)}(e,t.ignoreTransactions))return q.DEBUG_BUILD&&Z.debug.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${(0,t0.getEventDescription)(e)}`),!0}else{var n,r,i;if(n=e,r=t.ignoreErrors,r?.length&&tZ(n).some(e=>(0,ew.stringMatchesSomePattern)(e,r)))return q.DEBUG_BUILD&&Z.debug.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${(0,t0.getEventDescription)(e)}`),!0;if(i=e,i.exception?.values?.length&&!i.message&&!i.exception.values.some(e=>e.stacktrace||e.type&&"Error"!==e.type||e.value))return q.DEBUG_BUILD&&Z.debug.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${(0,t0.getEventDescription)(e)}`),!0;if(function(e,t){if(!t?.length)return!1;let n=nP(e);return!!n&&(0,ew.stringMatchesSomePattern)(n,t)}(e,t.denyUrls))return q.DEBUG_BUILD&&Z.debug.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${(0,t0.getEventDescription)(e)}.
Url: ${nP(e)}`),!0;if(!function(e,t){if(!t?.length)return!0;let n=nP(e);return!n||(0,ew.stringMatchesSomePattern)(n,t)}(e,t.allowUrls))return q.DEBUG_BUILD&&Z.debug.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${(0,t0.getEventDescription)(e)}.
Url: ${nP(e)}`),!0}return!1}(n,t)?n:null)}})(e),name:"InboundFilters"}))(),{name:"FunctionToString",setupOnce(){t=Function.prototype.toString;try{Function.prototype.toString=function(...e){let n=(0,eO.getOriginalFunction)(this),r=nw.has((0,em.getClient)())&&void 0!==n?n:this;return t.apply(r,e)}}catch{}},setup(e){nw.set(e,!0)}},((e={})=>{let t=e.limit||5,n=e.key||"cause";return{name:"LinkedErrors",preprocessEvent(e,r,i){!function(e,t,n,r,i,s){if(!i.exception?.values||!s||!(0,eM.isInstanceOf)(s.originalException,Error))return;let a=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;a&&(i.exception.values=function e(t,n,r,i,s,a,o,u){if(a.length>=r+1)return a;let c=[...a];if((0,eM.isInstanceOf)(i[s],Error)){nU(o,u);let a=t(n,i[s]),l=c.length;nM(a,s,l,u),c=e(t,n,r,i[s],s,[a,...c],a,l)}return Array.isArray(i.errors)&&i.errors.forEach((i,a)=>{if((0,eM.isInstanceOf)(i,Error)){nU(o,u);let l=t(n,i),p=c.length;nM(l,`errors[${a}]`,p,u),c=e(t,n,r,i,s,[l,...c],l,p)}}),c}(e,t,r,s.originalException,n,i.exception.values,a,0))}(nl,i.getOptions().stackParser,n,t,e,r)}}})(),((e={})=>{let t=void 0===e.breadcrumbs||e.breadcrumbs,n=e.shouldCreateSpanForRequest,r=new eD(100),i=new eD(100),s={};function a(e){let t=(0,em.getClient)();if(!t)return!1;let n=t.getOptions();if(void 0===n.tracePropagationTargets)return!0;let r=i.get(e);if(void 0!==r)return r;let s=(0,ew.stringMatchesSomePattern)(e,n.tracePropagationTargets);return i.set(e,s),s}function o(e){if(void 0===n)return!0;let t=r.get(e);if(void 0!==t)return t;let i=n(e);return r.set(e,i),i}return{name:"WinterCGFetch",setupOnce(){let e;en(e="fetch",e=>{var n,r,i,u,c;let l,p,d=(0,em.getClient)();if(d&&iP.get(d)){let _;n=e.fetchData.url,l=d?.getDsn(),p=d?.getOptions().tunnel,r=n,i=l,!(!(_=eE(r))||eS(_))&&i&&_.host.includes(i.host)&&/(^|&|\?)sentry_key=/.test(_.search)||(u=n,(c=p)&&eC(u)===eC(c))||(!function(e,t,n,r,i){var s,a,o,u,c,l,p,d,_,f;let h,g;if(!e.fetchData)return;let{method:m,url:S}=e.fetchData,E=(0,eL.hasSpansEnabled)()&&t(S);if(e.endTimestamp&&E){let t,n=e.fetchData.__span;if(!n)return;let u=r[n];u&&(function(e,t){if(t.response){(0,el.setHttpStatus)(e,t.response.status);let n=t.response?.headers?.get("content-length");if(n){let t=parseInt(n);t>0&&e.setAttribute("http.response_content_length",t)}}else t.error&&e.setStatus({code:el.SPAN_STATUS_ERROR,message:"internal_error"});e.end()}(u,e),s=u,a=e,t="object"==typeof(o=i)&&null!==o?o.onRequestSpanEnd:void 0,t?.(s,{headers:a.response?.headers,error:a.error}),delete r[n]);return}let{spanOrigin:T="auto.http.browser",propagateTraceparent:v=!1}="object"==typeof i?i:{spanOrigin:i},y=!!(0,ec.getActiveSpan)(),I=E&&y?function(e){let t=nv();if(t.startInactiveSpan)return t.startInactiveSpan(e);let n=function(e){let t={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){let n={...t};return n.startTimestamp=(0,ec.spanTimeInputToSeconds)(e.startTime),delete n.startTime,n}return t}(e),{forceTransaction:r,parentSpan:i}=e;return(e.scope?t=>(0,em.withScope)(e.scope,t):void 0!==i?e=>{var t,n;let r;return t=i,n=e,(r=nv()).withActiveSpan?r.withActiveSpan(t,n):(0,em.withScope)(e=>((0,tH._setSpanForScope)(e,t||void 0),n(e)))}:e=>e())(()=>{let t=(0,em.getCurrentScope)(),s=function(e,t){if(t)return t;if(null===t)return;let n=(0,tH._getSpanForScope)(e);if(!n)return;let r=(0,em.getClient)();return(r?r.getOptions():{}).parentSpanIsAlwaysRootSpan?(0,ec.getRootSpan)(n):n}(t,i);return e.onlyIfParent&&!s?new ng:function({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){let i;if(!(0,eL.hasSpansEnabled)()){let r=new ng;if(n||!e){let e={sampled:"false",sample_rate:"0",transaction:t.name,...(0,eU.getDynamicSamplingContextFromSpan)(r)};(0,eU.freezeDscOnSpan)(r,e)}return r}let s=(0,em.getIsolationScope)();if(e&&!n)i=function(e,t,n){let{spanId:r,traceId:i}=e.spanContext(),s=!t.getScopeData().sdkProcessingMetadata[nT]&&(0,ec.spanIsSampled)(e),a=s?new nm({...n,parentSpanId:r,traceId:i,sampled:s}):new ng({traceId:i});(0,ec.addChildSpanToSpan)(e,a);let o=(0,em.getClient)();return o&&(o.emit("spanStart",a),n.endTimestamp&&o.emit("spanEnd",a)),a}(e,r,t),(0,ec.addChildSpanToSpan)(e,i);else if(e){let n=(0,eU.getDynamicSamplingContextFromSpan)(e),{traceId:s,spanId:a}=e.spanContext(),o=(0,ec.spanIsSampled)(e);i=ny({traceId:s,parentSpanId:a,...t},r,o),(0,eU.freezeDscOnSpan)(i,n)}else{let{traceId:e,dsc:n,parentSpanId:a,sampled:o}={...s.getPropagationContext(),...r.getPropagationContext()};i=ny({traceId:e,parentSpanId:a,...t},r,o),n&&(0,eU.freezeDscOnSpan)(i,n)}return eG(i),(0,eg.setCapturedScopesOnSpan)(i,r,s),i}({parentSpan:s,spanArguments:n,forceTransaction:r,scope:t})})}((u=S,c=m,l=T,{name:(h=eE(u))?`${c} ${function(e){if(eS(e))return e.pathname;let t=new URL(e);return t.search="",t.hash="",["80","443"].includes(t.port)&&(t.port=""),t.password&&(t.password="%filtered%"),t.username&&(t.username="%filtered%"),t.toString()}(h)}`:c,attributes:(p=u,d=h,_=c,f=l,g={url:p,type:"fetch","http.method":_,[eh.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:f,[eh.SEMANTIC_ATTRIBUTE_SENTRY_OP]:"http.client"},d&&(eS(d)||(g["http.url"]=d.href,g["server.address"]=d.host),d.search&&(g["http.query"]=d.search),d.hash&&(g["http.fragment"]=d.hash)),g)})):new ng;if(e.fetchData.__span=I.spanContext().spanId,r[I.spanContext().spanId]=I,n(e.fetchData.url)){let t=e.args[0],n=e.args[1]||{},r=function(e,t,n,r){var i;let s=function(e={}){let t=e.client||(0,em.getClient)();if(!(0,e$.isEnabled)()||!t)return{};let n=(0,tP.getMainCarrier)(),r=(0,eB.getAsyncContextStrategy)(n);if(r.getTraceData)return r.getTraceData(e);let i=e.scope||(0,em.getCurrentScope)(),s=e.span||(0,ec.getActiveSpan)(),a=s?(0,ec.spanToTraceHeader)(s):function(e){let{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return(0,eP.generateSentryTraceHeader)(t,r,n)}(i),o=s?(0,eU.getDynamicSamplingContextFromSpan)(s):(0,eU.getDynamicSamplingContextFromScope)(t,i),u=(0,eN.dynamicSamplingContextToSentryBaggageHeader)(o);if(!eP.TRACEPARENT_REGEXP.test(a))return Z.debug.warn("Invalid sentry-trace data. Cannot generate trace data"),{};let c={"sentry-trace":a,baggage:u};if(e.propagateTraceparent){let e=s?(0,ec.spanToTraceparentHeader)(s):function(e){let{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return(0,eP.generateTraceparentHeader)(t,r,n)}(i);e&&(c.traceparent=e)}return c}({span:n,propagateTraceparent:r}),a=s["sentry-trace"],o=s.baggage,u=s.traceparent;if(!a)return;let c=t.headers||((0,eM.isRequest)(e)?e.headers:void 0);if(!c)return{...s};if(i=c,"undefined"!=typeof Headers&&(0,eM.isInstanceOf)(i,Headers)){let e=new Headers(c);if(e.get("sentry-trace")||e.set("sentry-trace",a),r&&u&&!e.get("traceparent")&&e.set("traceparent",u),o){let t=e.get("baggage");t?nI(t)||e.set("baggage",`${t},${o}`):e.set("baggage",o)}return e}if(Array.isArray(c)){let e=[...c];c.find(e=>"sentry-trace"===e[0])||e.push(["sentry-trace",a]),r&&u&&!c.find(e=>"traceparent"===e[0])&&e.push(["traceparent",u]);let t=c.find(e=>"baggage"===e[0]&&nI(e[1]));return o&&!t&&e.push(["baggage",o]),e}{let e="sentry-trace"in c?c["sentry-trace"]:void 0,t="traceparent"in c?c.traceparent:void 0,n="baggage"in c?c.baggage:void 0,i=n?Array.isArray(n)?[...n]:[n]:[],s=n&&(Array.isArray(n)?n.find(e=>nI(e)):nI(n));o&&!s&&i.push(o);let l={...c,"sentry-trace":e??a,baggage:i.length>0?i.join(","):void 0};return r&&u&&!t&&(l.traceparent=u),l}}(t,n,(0,eL.hasSpansEnabled)()&&y?I:void 0,v);r&&(e.args[1]=n,n.headers=r)}let R=(0,em.getClient)();if(R){let t={input:e.args,response:e.response,startTimestamp:e.startTimestamp,endTimestamp:e.endTimestamp};R.emit("beforeOutgoingRequestSpan",I,t)}}(e,o,a,s,{spanOrigin:"auto.http.wintercg_fetch"}),t&&function(e){let{startTimestamp:t,endTimestamp:n}=e;if(!n)return;let r={method:e.fetchData.method,url:e.fetchData.url};if(e.error)nR({category:"fetch",data:r,level:"error",type:"http"},{data:e.error,input:e.args,startTimestamp:t,endTimestamp:n});else{let i=e.response;r.request_body_size=e.fetchData.request_body_size,r.response_body_size=e.fetchData.response_body_size,r.status_code=i?.status;let s={input:e.args,response:i,startTimestamp:t,endTimestamp:n},a=function(e){if(void 0!==e)return e>=400&&e<500?"warning":e>=500?"error":void 0}(r.status_code);nR({category:"fetch",data:r,type:"http",level:a},s)}}(e))}}),er(e,()=>(function(e,t=!1){(0,eO.fill)(X.GLOBAL_OBJ,"fetch",function(t){return function(...n){let r=Error(),{method:i,url:s}=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){let[t,n]=e;return{url:nf(t),method:n_(n,"method")?String(n.method).toUpperCase():"GET"}}let t=e[0];return{url:nf(t),method:n_(t,"method")?String(t.method).toUpperCase():"GET"}}(n),a={args:n,fetchData:{method:i,url:s},startTimestamp:1e3*(0,tz.timestampInSeconds)(),virtualError:r,headers:function(e){let[t,n]=e;try{if("object"==typeof n&&null!==n&&"headers"in n&&n.headers)return new Headers(n.headers);if((0,eM.isRequest)(t))return new Headers(t.headers)}catch{}}(n)};return e||ei("fetch",{...a}),t.apply(X.GLOBAL_OBJ,n).then(async t=>(e?e(t):ei("fetch",{...a,endTimestamp:1e3*(0,tz.timestampInSeconds)(),response:t}),t),e=>{if(ei("fetch",{...a,endTimestamp:1e3*(0,tz.timestampInSeconds)(),error:e}),(0,eM.isError)(e)&&void 0===e.stack&&(e.stack=r.stack,(0,eO.addNonEnumerableProperty)(e,"framesToPop",1)),e instanceof TypeError&&("Failed to fetch"===e.message||"Load failed"===e.message||"NetworkError when attempting to fetch resource."===e.message))try{let t=new URL(a.fetchData.url);e.message=`${e.message} (${t.host})`}catch{}throw e})}})})(void 0,void 0))},setup(e){iP.set(e,!0)}}})(),((e={})=>{let t=new Set(e.levels||Z.CONSOLE_LEVELS);return{name:"Console",setup(e){let n;en(n="console",({args:n,level:r})=>{(0,em.getClient)()===e&&t.has(r)&&function(e,t){let n={category:"console",data:{arguments:t,logger:"console"},level:"warn"===e?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log",message:nB(t)};if("assert"===e)if(!1!==t[0])return;else{let e=t.slice(1);n.message=e.length>0?`Assertion failed: ${nB(e)}`:"Assertion failed",n.data.arguments=e}nR(n,{input:t,level:e})}(r,n)}),er(n,nx)}}})(),...e.sendDefaultPii?[((e={})=>{let t={...nF,...e.include};return{name:"RequestData",processEvent(e,n,r){let{sdkProcessingMetadata:i={}}=e,{normalizedRequest:s,ipAddress:a}=i,o={...t,ip:t.ip??r.getOptions().sendDefaultPii};return s&&function(e,t,n,r){var i,s,a;let o,u;if(e.request={...e.request,...(i=t,s=r,o={},u={...i.headers},s.headers&&(o.headers=u,s.cookies||delete u.cookie,s.ip||nk.forEach(e=>{delete u[e]})),o.method=i.method,s.url&&(o.url=i.url),s.cookies&&(o.cookies=i.cookies||(u?.cookie?function(e){let t={},n=0;for(;n<e.length;){let r=e.indexOf("=",n);if(-1===r)break;let i=e.indexOf(";",n);if(-1===i)i=e.length;else if(i<r){n=e.lastIndexOf(";",r-1)+1;continue}let s=e.slice(n,r).trim();if(void 0===t[s]){let n=e.slice(r+1,i).trim();34===n.charCodeAt(0)&&(n=n.slice(1,-1));try{t[s]=-1!==n.indexOf("%")?decodeURIComponent(n):n}catch{t[s]=n}}n=i+1}return t}(u.cookie):void 0)||{}),s.query_string&&(o.query_string=i.query_string),s.data&&(o.data=i.data),o)},r.ip){let r=t.headers&&(a=t.headers,nk.map(e=>{let t=a[e],n=Array.isArray(t)?t.join(";"):t;return"Forwarded"===e?function(e){if(!e)return null;for(let t of e.split(";"))if(t.startsWith("for="))return t.slice(4);return null}(n):n?.split(",").map(e=>e.trim())}).reduce((e,t)=>t?e.concat(t):e,[]).find(e=>{var t;return null!==e&&(t=e,/(?:^(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}$)|(?:^(?:(?:[a-fA-F\d]{1,4}:){7}(?:[a-fA-F\d]{1,4}|:)|(?:[a-fA-F\d]{1,4}:){6}(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|:[a-fA-F\d]{1,4}|:)|(?:[a-fA-F\d]{1,4}:){5}(?::(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-fA-F\d]{1,4}){1,2}|:)|(?:[a-fA-F\d]{1,4}:){4}(?:(?::[a-fA-F\d]{1,4}){0,1}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-fA-F\d]{1,4}){1,3}|:)|(?:[a-fA-F\d]{1,4}:){3}(?:(?::[a-fA-F\d]{1,4}){0,2}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-fA-F\d]{1,4}){1,4}|:)|(?:[a-fA-F\d]{1,4}:){2}(?:(?::[a-fA-F\d]{1,4}){0,3}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-fA-F\d]{1,4}){1,5}|:)|(?:[a-fA-F\d]{1,4}:){1}(?:(?::[a-fA-F\d]{1,4}){0,4}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-fA-F\d]{1,4}){1,6}|:)|(?::(?:(?::[a-fA-F\d]{1,4}){0,5}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-fA-F\d]{1,4}){1,7}|:)))(?:%[0-9a-zA-Z]{1,})?$)/.test(t))})||null)||n.ipAddress;r&&(e.user={...e.user,ip_address:r})}}(e,s,{ipAddress:a},o),e}}})()]:[]]}var i$=e.i(30232),iG=e.i(93597),ij=e.i(99200);let iY=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function iV(...e){let t="",n=!1;for(let r=e.length-1;r>=-1&&!n;r--){let i=r>=0?e[r]:"/";i&&(t=`${i}/${t}`,n="/"===i.charAt(0))}return t=(function(e,t){let n=0;for(let t=e.length-1;t>=0;t--){let r=e[t];"."===r?e.splice(t,1):".."===r?(e.splice(t,1),n++):n&&(e.splice(t,1),n--)}if(t)for(;n--;)e.unshift("..");return e})(t.split("/").filter(e=>!!e),!n).join("/"),(n?"/":"")+t||"."}function iH(e){let t=0;for(;t<e.length&&""===e[t];t++);let n=e.length-1;for(;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}X.GLOBAL_OBJ,!function(e={}){if(ed(),process.env.NEXT_PHASE===iG.PHASE_PRODUCTION_BUILD)return;let t=iF(e);t.push((({distDirName:e})=>{let t=e.replace(/(\/|\\)$/,""),n=RegExp(`.*${t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}`);return{...((e={})=>{let t=e.root,n=e.prefix||"app:///",r="window"in X.GLOBAL_OBJ&&!!X.GLOBAL_OBJ.window,i=e.iteratee||function({isBrowser:e,root:t,prefix:n}){return r=>{if(!r.filename)return r;let i=/^[a-zA-Z]:\\/.test(r.filename)||r.filename.includes("\\")&&!r.filename.includes("/"),s=/^\//.test(r.filename);if(e){if(t){let e=r.filename;0===e.indexOf(t)&&(r.filename=e.replace(t,n))}}else if(i||s){let e,s,a=i?r.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):r.filename,o=t?function(e,t){e=iV(e).slice(1),t=iV(t).slice(1);let n=iH(e.split("/")),r=iH(t.split("/")),i=Math.min(n.length,r.length),s=i;for(let e=0;e<i;e++)if(n[e]!==r[e]){s=e;break}let a=[];for(let e=s;e<n.length;e++)a.push("..");return(a=a.concat(r.slice(s))).join("/")}(t,a):(e=a.length>1024?`<truncated>${a.slice(-1024)}`:a,(s=iY.exec(e))?s.slice(1):[])[2]||"";r.filename=`${n}${o}`}return r}}({isBrowser:r,root:t,prefix:n});return{name:"RewriteFrames",processEvent(e){let t=e;return e.exception&&Array.isArray(e.exception.values)&&(t=function(e){try{return{...e,exception:{...e.exception,values:e.exception.values.map(e=>{var t;return{...e,...e.stacktrace&&{stacktrace:{...t=e.stacktrace,frames:t?.frames?.map(e=>i(e))}}}})}}}catch{return e}}(t)),t}}})({iteratee:e=>(e.filename=e.filename?.replace(n,"app:///_next"),e)}),name:"DistDirRewriteFrames"}})({distDirName:".next"}));let n={defaultIntegrations:t,release:"3f718bc2af8402e6fa58a3712af4a90c37fd82da",...e};ef(n,"nextjs",["nextjs","vercel-edge"]);let r=function(e={}){var t,n;let r,i,s;function o(){let e=r1(K.active());return e||{scope:(0,ek.getDefaultCurrentScope)(),isolationScope:(0,ek.getDefaultIsolationScope)()}}function u(){return o().scope}function c(){return o().isolationScope}if((0,eB.setAsyncContextStrategy)({withScope:function(e){let t=K.active();return K.with(t,()=>e(u()))},withSetScope:function(e,t){let n=e[r0]||K.active();return K.with(n.setValue(rZ,e),()=>t(e))},withSetIsolationScope:function(e,t){let n=K.active();return K.with(n.setValue(rQ,e),()=>t(c()))},withIsolationScope:function(e){let t=K.active();return K.with(t.setValue(rX,!0),()=>e(c()))},getCurrentScope:u,getIsolationScope:c,startSpan:iu,startSpanManual:ic,startInactiveSpan:il,getActiveSpan:r6,suppressTracing:iS,getTraceData:iE,continueTrace:ig,withActiveSpan:ip}),(0,em.getCurrentScope)().update(e.initialScope),void 0===e.defaultIntegrations&&(e.defaultIntegrations=iF(e)),void 0===e.dsn&&process.env.SENTRY_DSN&&(e.dsn=process.env.SENTRY_DSN),void 0===e.tracesSampleRate&&process.env.SENTRY_TRACES_SAMPLE_RATE){let t=parseFloat(process.env.SENTRY_TRACES_SAMPLE_RATE);isFinite(t)&&(e.tracesSampleRate=t)}if(void 0===e.release){let t=function(e){if(process.env.SENTRY_RELEASE)return process.env.SENTRY_RELEASE;if(X.GLOBAL_OBJ.SENTRY_RELEASE?.id)return X.GLOBAL_OBJ.SENTRY_RELEASE.id;let t=process.env.GITHUB_SHA||process.env.CI_MERGE_REQUEST_SOURCE_BRANCH_SHA||process.env.CI_BUILD_REF||process.env.CI_COMMIT_SHA||process.env.BITBUCKET_COMMIT,n=process.env.APPVEYOR_PULL_REQUEST_HEAD_COMMIT||process.env.APPVEYOR_REPO_COMMIT||process.env.CODEBUILD_RESOLVED_SOURCE_VERSION||process.env.AWS_COMMIT_ID||process.env.BUILD_SOURCEVERSION||process.env.GIT_CLONE_COMMIT_HASH||process.env.BUDDY_EXECUTION_REVISION||process.env.BUILDKITE_COMMIT||process.env.CIRCLE_SHA1||process.env.CIRRUS_CHANGE_IN_REPO||process.env.CF_REVISION||process.env.CM_COMMIT||process.env.CF_PAGES_COMMIT_SHA||process.env.DRONE_COMMIT_SHA||process.env.FC_GIT_COMMIT_SHA||process.env.HEROKU_TEST_RUN_COMMIT_VERSION||process.env.HEROKU_SLUG_COMMIT||process.env.RAILWAY_GIT_COMMIT_SHA||process.env.RENDER_GIT_COMMIT||process.env.SEMAPHORE_GIT_SHA||process.env.TRAVIS_PULL_REQUEST_SHA||process.env.VERCEL_GIT_COMMIT_SHA||process.env.VERCEL_GITHUB_COMMIT_SHA||process.env.VERCEL_GITLAB_COMMIT_SHA||process.env.VERCEL_BITBUCKET_COMMIT_SHA||process.env.ZEIT_GITHUB_COMMIT_SHA||process.env.ZEIT_GITLAB_COMMIT_SHA||process.env.ZEIT_BITBUCKET_COMMIT_SHA,r=process.env.CI_COMMIT_ID||process.env.SOURCE_COMMIT||process.env.SOURCE_VERSION||process.env.GIT_COMMIT||process.env.COMMIT_REF||process.env.BUILD_VCS_NUMBER||process.env.CI_COMMIT_SHA;return t||n||r||void 0}();void 0!==t&&(e.release=t)}e.environment=e.environment||process.env.SENTRY_ENVIRONMENT||((r=process.env.VERCEL_ENV)?`vercel-${r}`:void 0)||"production";let l=new nW({...e,stackParser:(0,Q.stackParserFromStackParserOptions)(e.stackParser||ik),integrations:function(e){let t,n,r=e.defaultIntegrations||[],i=e.integrations;if(r.forEach(e=>{e.isDefaultInstance=!0}),Array.isArray(i))t=[...r,...i];else if("function"==typeof i){let e=i(r);t=Array.isArray(e)?e:[e]}else t=r;return n={},t.forEach(e=>{let{name:t}=e,r=n[t];r&&!r.isDefaultInstance&&e.isDefaultInstance||(n[t]=e)}),Object.values(n)}(e),transport:e.transport||iU});return(0,em.getCurrentScope)().setClient(l),l.init(),e.skipOpenTelemetrySetup||((t=l).getOptions().debug&&(n$.disable(),n$.setLogger({error:Z.debug.error,warn:Z.debug.warn,info:Z.debug.log,debug:Z.debug.log,verbose:Z.debug.log},a.DEBUG)),i=new rG({sampler:new iN(t),resource:nH().merge(nV({"service.name":"edge","service.namespace":"sentry","service.version":e_.SDK_VERSION})),forceFlushTimeoutMillis:500,spanProcessors:[new iC({timeout:t.getOptions().maxSpanWaitDuration})]}),s=(n=iB,class extends n{constructor(...e){super(...e),it("SentryContextManager")}with(e,t,n,...r){let i=r1(e),s=i?.scope||(0,em.getCurrentScope)(),a=i?.isolationScope||(0,em.getIsolationScope)(),o=!0===e.getValue(rX),u=e.getValue(rZ),c=e.getValue(rQ),l=u||s.clone(),p=r2(e,{scope:l,isolationScope:c||(o?a.clone():a)}).deleteValue(rX).deleteValue(rZ).deleteValue(rQ);return(0,eO.addNonEnumerableProperty)(l,r0,p),super.with(p,t,n,...r)}}),ti.setGlobalTracerProvider(i),tv.setGlobalPropagator(new ir),K.setGlobalContextManager(new s),t.traceProvider=i,function(){if(!iD)return;let e=Array.from(ie),t=["SentryContextManager","SentryPropagator"];for(let n of((0,eL.hasSpansEnabled)()&&t.push("SentrySpanProcessor"),t))e.includes(n)||Z.debug.error(`You have to set up the ${n}. Without this, the OpenTelemetry & Sentry integration will not work properly.`);e.includes("SentrySampler")||Z.debug.warn("You have to set up the SentrySampler. Without this, the OpenTelemetry & Sentry integration may still work, but sample rates set for the Sentry SDK will not be respected. If you use a custom sampler, make sure to use `wrapSamplingDecision`.")}()),l.on("createDsc",(e,t)=>{if(!t)return;let n=(0,ec.spanToJSON)(t).data[eh.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE],{description:r}=t.name?r3(t):{description:void 0};if("url"!==n&&r&&(e.transaction=r),(0,eL.hasSpansEnabled)()){let n=r5(t.spanContext());e.sampled=void 0==n?void 0:String(n)}}),l.on("preprocessEvent",e=>{let t=r6();if(!t||"transaction"===e.type)return;e.contexts={trace:(0,ec.spanToTraceContext)(t),...e.contexts};let n=(0,ec.getRootSpan)(t);return e.sdkProcessingMetadata={dynamicSamplingContext:(0,eU.getDynamicSamplingContextFromSpan)(n),...e.sdkProcessingMetadata},e}),l}(n);r?.on("spanStart",e=>{let t=(0,ec.spanToJSON)(e).data,n=(0,ec.getRootSpan)(e),r=e===n;if(t?.["next.span_type"]!==void 0&&e.setAttribute(eh.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,"auto"),t?.["next.span_type"]==="Middleware.execute"&&(e.setAttribute(eh.SEMANTIC_ATTRIBUTE_SENTRY_OP,"http.server.middleware"),e.setAttribute(eh.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE,"url"),r)){let t=(0,eg.getCapturedScopesOnSpan)(e),n=(t.isolationScope||(0,em.getIsolationScope)()).clone(),r=t.scope||(0,em.getCurrentScope)(),i=K.active().getValue(tN);i&&(i.isolationScope=n),(0,eg.setCapturedScopesOnSpan)(e,r,n)}r&&function(e,t){if(!e)return;let n=(0,em.getClient)(),r=n?.getOptions().sendDefaultPii??!1,i=e instanceof Headers||"object"==typeof e&&"get"in e?(0,i$.winterCGHeadersToDict)(e):e,s=(0,i$.httpHeadersToSpanAttributes)(i,r);t&&t.setAttributes(s)}((0,em.getIsolationScope)().getScopeData().sdkProcessingMetadata?.normalizedRequest?.headers,n)}),r?.on("preprocessEvent",e=>{if("transaction"===e.type&&e.contexts?.trace?.data?.["next.span_type"]==="Middleware.execute"&&e.contexts?.trace?.data?.["next.span_name"]&&e.transaction){let t=e.contexts.trace.data["next.span_name"];if("string"==typeof t){let n=t.match(/^middleware (GET|POST|PUT|DELETE|PATCH|HEAD|OPTIONS)/);n?e.transaction=`middleware ${n[1]}`:e.transaction=ev(e.contexts.trace.data["next.span_name"])}}}),r?.on("spanEnd",e=>{e===(0,ec.getRootSpan)(e)&&(0,eI.vercelWaitUntil)((0,ij.flushSafelyWithTimeout)())});try{(0,em.getGlobalScope)().setTag("turbopack",!0)}catch{}}({dsn:"https://dbcc12210cd7d6be10f665544428f7db@o4510103751950336.ingest.us.sentry.io/4510103763550208",tracesSampleRate:1,enableLogs:!0,sendDefaultPii:!0}),e.s([],25973)}]);

//# sourceMappingURL=%5Broot-of-the-server%5D__2c6ebc96._.js.map